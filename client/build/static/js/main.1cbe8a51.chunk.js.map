{"version":3,"sources":["themes/theme.ts","Images/backgroundImg.jpg","pages/Login/useStyles.ts","helpers/APICalls/login.ts","pages/Login/LoginForm/useStyles.ts","pages/Login/LoginForm/LoginForm.tsx","components/AuthHeader/useStyles.ts","components/AuthHeader/AuthHeader.tsx","helpers/APICalls/loginWithCookies.ts","helpers/APICalls/logout.ts","context/useAuthContext.tsx","context/useSnackbarContext.tsx","helpers/APICalls/videosApis.ts","context/useAllVideosContext.tsx","pages/Login/Login.tsx","pages/SignUp/useStyles.ts","helpers/APICalls/register.ts","pages/SignUp/SignUpForm/useStyles.ts","pages/SignUp/SignUpForm/SignUpForm.tsx","pages/SignUp/SignUp.tsx","context/useSocketContext.tsx","components/Layout/NavBar/Logo/logo.svg","components/Layout/NavBar/Search/SearchVideos/useStyles.ts","components/Layout/NavBar/Search/SearchVideos/SearchedVideosList.tsx","components/Layout/NavBar/Search/Search.tsx","helpers/APICalls/userApis.ts","context/useUserContext.tsx","pages/Profile/useStyles.ts","components/Layout/NavBar/Menubar/MobileMenu.tsx","components/Layout/NavBar/Menubar/DesktopMenu.tsx","components/Layout/NavBar/NavBar.tsx","components/Layout/Layout.tsx","components/VideoPlayer/VideosPlayer.tsx","pages/Profile/DeleteVideo/DeleteVideo.tsx","components/VideosList/useStyles.ts","components/VideosList/VideosList.tsx","pages/Home/useStyles.ts","pages/Home/Home.tsx","pages/Watch/useStyles.ts","helpers/APICalls/likesApis.ts","pages/Watch/Likes/Likes.tsx","helpers/APICalls/commentApis.ts","pages/Watch/Comments/AddComment/AddComment.tsx","helpers/APICalls/commentLikes.ts","pages/Watch/Comments/LikeAndDislikeComment/LikeAndDislikeComment.tsx","pages/Watch/Comments/EditAndDeleteComment/EditAndDeleteComment.tsx","pages/Watch/Comments/Comments.tsx","helpers/APICalls/viewsApi.ts","pages/Watch/Viewers/Viewers.tsx","pages/Watch/Watch.tsx","helpers/APICalls/imageApis.ts","pages/Profile/ProfilePhoto/ProfilePhoto.tsx","helpers/APICalls/followApis.ts","pages/Profile/Follow/Follow.tsx","helpers/APICalls/aboutApis.ts","pages/Profile/AboutUser/AboutUser.tsx","pages/Profile/Profile.tsx","pages/UploadVideo/UploadVideoForm/DropZone/useStyles.ts","Images/upload.png","pages/UploadVideo/UploadVideoForm/DropZone/DropZone.tsx","pages/UploadVideo/UploadVideoForm/VideoDetailsForm/VideoDetailsForm.tsx","pages/UploadVideo/UploadVideoForm/UploadVideoForm.tsx","helpers/APICalls/uploadVideo.ts","pages/UploadVideo/UploadVideo.tsx","App.tsx","serviceWorker.js","index.js"],"names":["theme","createMuiTheme","typography","fontFamily","fontSize","button","textTransform","fontWeight","palette","primary","main","secondary","success","warning","shape","borderRadius","useStyles","makeStyles","root","height","position","top","background","image","backgroundRepeat","backgroundSize","backgroundAttachment","backgroundPosition","padding","paddingTop","authWrapper","display","alignItems","justifyContent","flexDirection","minHeight","width","welcome","paddingBottom","color","loginContainer","login","email","password","a","fetchOptions","method","headers","body","JSON","stringify","credentials","fetch","then","res","json","catch","error","message","form","marginTop","spacing","label","paddingLeft","inputs","forgot","paddingRight","marginLeft","submit","margin","backgroundColor","Login","handleSubmit","classes","initialValues","validationSchema","Yup","required","max","min","onSubmit","handleChange","values","touched","errors","isSubmitting","className","noValidate","TextField","id","Typography","fullWidth","InputLabelProps","shrink","InputProps","input","name","autoComplete","autoFocus","helperText","Boolean","value","onChange","type","Box","textAlign","Button","size","variant","CircularProgress","style","authHeader","alignSelf","flexWrap","accAside","marginRight","whiteSpace","link","textDecoration","accBtn","filter","boxShadow","AuthHeader","linkTo","asideText","btnText","sx","sm","xs","md","to","loginWithCookies","logout","AuthContext","createContext","loggedInUser","undefined","updateLoginContext","AuthProvider","children","useState","setLoggedInUser","history","useHistory","useCallback","data","user","push","logoutAPI","console","useEffect","checkLoginWithCookies","Provider","useAuth","useContext","SnackBarContext","updateSnackBarMessage","SnackBarProvider","setMessage","open","setOpen","handleClose","snackbarHandleClose","event","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","action","IconButton","aria-label","onClick","useSnackBar","getAllVideos","axios","post","response","log","deleteVideo","videoId","AllVideosContext","handleGetAllVideos","handleSetWatchVideo","allVideos","watchVideo","AllVideosProvider","setAllVideos","setWatchVideo","videoDetails","watchedVideo","video","_id","useAllVideos","Grid","container","component","maxWidth","p","Paper","elevation","item","align","setSubmitting","signupContainer","register","username","SignUpForm","Register","SocketContext","socket","initSocket","SocketProvider","setSocket","io","withCredentials","SearchIconWrapper","styled","pointerEvents","Search","alpha","common","white","breakpoints","up","down","StyledInputBase","InputBase","transition","transitions","create","search","lineHeight","searchRoot","searchInput","searchIcon","drawer","bottom","borderEndEndRadius","borderBottomLeftRadius","overFlow","drawerBackDrop","bgColor","left","zIndex","cursor","SearchedVideosList","searchedVideo","setSearchedVideo","toggleDrawer","searchResult","setSearchResult","filteredSearchedVideo","trimmedSearchValue","replace","toLowerCase","videoTitle","includes","handleSearch","List","length","map","ListItem","handleClickedSearchResult","ListItemText","SearchVideo","openDrawer","setOpenDrawer","setDrawerHeight","searchBarIndex","setSearchBarIndex","useTheme","useMediaQuery","key","placeholder","e","target","inputProps","role","getUserDetails","userId","get","UserDetailsContext","handleGetUserDetails","userVideos","userDetails","UserDetailsProvider","setUserVideos","setUserDetails","videos","useUserDetails","stringToColor","string","i","hash","charCodeAt","toString","substr","stringAvatar","bgcolor","profile","videoContainer","textOverflow","videoDetailsContainer","iconButton","right","bottomSpace","marginBottom","MobileMenu","mobileMoreAnchorEl","anchorEl","setMobileMoreAnchorEl","setAnchorEl","isMobileMenuOpen","handleShowAccount","handleMenuClose","params","handleMobileMenuClose","Menu","keepMounted","transformOrigin","MenuItem","Stack","direction","aria-controls","aria-haspopup","DesktopMenu","isMenuOpen","NavBar","React","renderMenu","renderMobileMenu","flexGrow","AppBar","Toolbar","edge","mr","src","logo","alt","noWrap","currentTarget","Avatar","toUpperCase","Layout","VideoPlayer","videoSource","videoPlayerOptions","setVideoDuration","autoPlay","playing","controls","parseInt","onDuration","duration","toFixed","handleDuration","url","UpdateVideo","renderedComponent","isUser","setIsUser","isDeleting","setDeleting","handleDeleteVideoDetails","startIcon","disabled","textSpacing","imageBox","uploadImage","buttonStyle","textFontSize","VideosList","videoListStyle","handleDisplayUserProfile","Fragment","handleClickVideo","displayDetails","artist","videoCategory","videoDuration","moment","datePosted","format","likes","dislikes","views","borderBottom","Home","lg","addCommentBtn","updateLikes","loggedInUsername","userImage","updateDislikes","removeLikes","removeDislikes","Likes","setLikes","setDislikes","checkUserExist","filterUser","handleLike","handleDislike","addComment","comment","editComment","commentId","deleteComment","AddComment","openComment","setOpenComment","isEditComment","setEditComment","setComment","handleAddComment","preventDefault","handleCloseComment","handleEditComment","TextareaAutosize","minRows","resize","float","document","getElementById","focus","click","updateCommentLikes","updateCommentDislikes","removeCommentLikes","removeCommentDislikes","LikeAndDislikeComment","EditAndDeleteComment","setCommentId","handleDeleteComment","Comments","displayCommentBtn","xl","comments","border","commentDate","overflowWrap","addViewer","Viewers","viewers","setViewers","handleAddViewer","Watch","setVideoSource","setDisplayCommentBtn","window","scrollTo","videosListPlayerOptions","isVisible","Container","videoDescription","overflowY","overflow","formData","FormData","append","deleteImage","delete","ProfilePhoto","setImage","file","setFiles","openUpdateForm","setOpenUpdateForm","setUploadStatus","isSaving","setIsSaving","onDrop","acceptedFile","URL","createObjectURL","useDropzone","multiple","accept","getRootProps","getInputProps","isDragReject","handleSaveImage","handleDeleteImage","follow","unfollow","Follow","setIsSubmitting","userFollowing","setUserFollowing","followers","handleFollower","updateAboutUser","aboutUser","AboutUser","setAboutUser","edit","setEdit","handleSetAboutUser","slice","Profile","userHasVideos","setUserHasVideos","setUser","dropBoxContainer","transform","dropBox","imageBoxAccept","imageBoxReject","typographyBox","typographySpan","DropZone","isDragAccept","loading","Image","VideoDetailsForm","setCategory","setArtist","setDescription","setVideoTitle","uploadProgress","uploadSuccess","category","setButtonColor","select","option","UploadVideoForm","setFile","setUploadSuccess","setFileName","tempVideoSource","setTempVideoSource","isSmallOrLess","handleYoutubeUrl","videoFromYoutube","urlParams","indexOfvideoId","videoUrl","videoType","Date","now","uploadVideoDetails","UploadVideo","setUploadProgress","description","handleUploadVideoToCloud","handleUploadVideoDetails","onUploadProgress","progressEvent","Math","round","loaded","total","App","exact","path","Signup","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1cbe8a51.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core';\n\nexport const theme = createMuiTheme({\n  typography: {\n    fontFamily: '\"Open Sans\", \"sans-serif\", \"Roboto\"',\n    fontSize: 12,\n    button: {\n      textTransform: 'none',\n      fontWeight: 700,\n    },\n  },\n  palette: {\n    primary: { main: '#3A8DFF' },\n    secondary: { main: '#ef3f40' },\n    success: { main: '#199401' },\n    warning: { main: '#F40F11' },\n  },\n  shape: {\n    borderRadius: 5,\n  },\n});\n","export default __webpack_public_path__ + \"static/media/backgroundImg.b802b849.jpg\";","import { makeStyles } from '@material-ui/core/styles';\nimport image from '../../Images/backgroundImg.jpg';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: '100vh',\n    position: 'fixed',\n    top: 0,\n    background: `linear-gradient( rgba(0, 0, 0, 0.3) 100%, rgba(0, 0, 0, 0.3)100%),url(${image})`,\n    backgroundRepeat: ' no-repeat',\n    backgroundSize: 'cover',\n    backgroundAttachment: 'fixed',\n    backgroundPosition: 'center',\n    padding: '20px',\n    paddingTop: '0',\n  },\n\n  authWrapper: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    justifyContent: 'space-between',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    width: '100%',\n    paddingTop: 23,\n  },\n  welcome: {\n    fontSize: 26,\n    paddingBottom: 20,\n    color: '#000000',\n    fontWeight: 700,\n    fontFamily: \"'Open Sans'\",\n  },\n  loginContainer: {\n    background: 'rgb(25, 118, 210,0.8)',\n    padding: '20px 30px',\n  },\n}));\n\nexport default useStyles;\n","import { AuthApiData } from '../../interface/AuthApiData';\nimport { FetchOptions } from '../../interface/FetchOptions';\n\nconst login = async (email: string, password: string): Promise<AuthApiData> => {\n  const fetchOptions: FetchOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password }),\n    credentials: 'include',\n  };\n  return await fetch(`/auth/login`, fetchOptions)\n    .then((res) => res.json())\n    .catch(() => ({\n      error: { message: 'Unable to connect to server. Please try again' },\n    }));\n};\n\nexport default login;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n    color: 'white',\n    paddingBottom: 0,\n  },\n  label: {\n    fontSize: 19,\n    color: 'white',\n    paddingLeft: '5px',\n  },\n  inputs: {\n    marginTop: '.8rem',\n    height: '2rem',\n    padding: '5px',\n    borderRadius: '5px',\n  },\n  forgot: {\n    paddingRight: 10,\n    color: '#3a8dff',\n    marginLeft: '10px',\n  },\n  submit: {\n    margin: theme.spacing(3, 2, 2),\n    padding: 10,\n    width: 160,\n    height: 56,\n    borderRadius: theme.shape.borderRadius,\n    marginTop: 49,\n    fontSize: 16,\n    backgroundColor: '#3a8dff',\n    fontWeight: 'bold',\n  },\n}));\n\nexport default useStyles;\n","import Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport { Formik, FormikHelpers } from 'formik';\nimport * as Yup from 'yup';\nimport Typography from '@material-ui/core/Typography';\nimport useStyles from './useStyles';\nimport { CircularProgress } from '@material-ui/core';\n\ninterface Props {\n  handleSubmit: (\n    {\n      email,\n      password,\n    }: {\n      email: string;\n      password: string;\n    },\n    {\n      setStatus,\n      setSubmitting,\n    }: FormikHelpers<{\n      email: string;\n      password: string;\n    }>,\n  ) => void;\n}\n\nexport default function Login({ handleSubmit }: Props): JSX.Element {\n  const classes = useStyles();\n\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: '',\n      }}\n      validationSchema={Yup.object().shape({\n        email: Yup.string().required('Email is required').email('Email is not valid'),\n        password: Yup.string()\n          .required('Password is required')\n          .max(100, 'Password is too long')\n          .min(6, 'Password too short'),\n      })}\n      onSubmit={handleSubmit}\n    >\n      {({ handleSubmit, handleChange, values, touched, errors, isSubmitting }) => (\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\n          <TextField\n            id=\"email\"\n            label={<Typography className={classes.label}>E-mail address</Typography>}\n            fullWidth\n            margin=\"normal\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            InputProps={{\n              classes: { input: classes.inputs },\n            }}\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            helperText={touched.email ? errors.email : ''}\n            error={touched.email && Boolean(errors.email)}\n            value={values.email}\n            onChange={handleChange}\n          />\n          <TextField\n            id=\"password\"\n            label={<Typography className={classes.label}>Password</Typography>}\n            fullWidth\n            margin=\"normal\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            InputProps={{\n              classes: { input: classes.inputs },\n            }}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            helperText={touched.password ? errors.password : ''}\n            error={touched.password && Boolean(errors.password)}\n            value={values.password}\n            onChange={handleChange}\n          />\n          <Box textAlign=\"center\">\n            <Button type=\"submit\" size=\"large\" variant=\"contained\" color=\"primary\" className={classes.submit}>\n              {isSubmitting ? <CircularProgress style={{ color: 'white' }} /> : 'Login'}\n            </Button>\n          </Box>\n        </form>\n      )}\n    </Formik>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  authHeader: {\n    alignSelf: 'flex-end',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  accAside: {\n    fontSize: 14,\n    color: '#b0b0b0',\n    fontWeight: 400,\n    textAlign: 'center',\n    marginRight: 35,\n    whiteSpace: 'nowrap',\n    display: 'flex',\n    alignItems: 'center',\n    padding: '1rem 0',\n  },\n  link: { textDecoration: 'none' },\n  accBtn: {\n    // width: 170,\n    // height: 54,\n    borderRadius: theme.shape.borderRadius,\n    filter: 'drop-shadow(0px 2px 6px rgba(74,106,149,0.2))',\n    backgroundColor: '#ffffff',\n    color: '#3a8dff',\n    boxShadow: 'none',\n  },\n}));\n\nexport default useStyles;\n","import Button from '@mui/material/Button';\n// import Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport useStyles from './useStyles';\nimport { Typography, Box } from '@mui/material';\n\ninterface Props {\n  linkTo: string;\n  asideText: string;\n  btnText: string;\n}\n\nconst AuthHeader = ({ linkTo, asideText, btnText }: Props): JSX.Element => {\n  const classes = useStyles();\n\n  return (\n    <Box display={'flex'} alignItems={'center'} width=\"100%\" justifyContent={'space-between'}>\n      <Box sx={{ marginLeft: { sm: '14px', xs: '0', md: '23px' } }}>\n        <Typography\n          variant=\"h4\"\n          sx={{\n            fontSize: { sm: '1.6rem', xs: '1.5rem', md: '2rem' },\n          }}\n        >\n          VStreamer\n        </Typography>\n      </Box>\n      <Box className={classes.authHeader}>\n        <Typography\n          className={classes.accAside}\n          sx={{\n            display: { sm: 'none', xs: 'none', md: 'inline' },\n            margin: '0 10px',\n          }}\n        >\n          {asideText}\n        </Typography>\n        <Link to={linkTo} className={classes.link}>\n          <Button\n            color=\"primary\"\n            className={classes.accBtn}\n            sx={{\n              width: { xs: 130, sm: 150, md: 170 },\n              height: { xs: 40, sm: 45, md: 54 },\n              whiteSpace: 'nowrap',\n            }}\n            variant=\"contained\"\n          >\n            <Typography variant=\"subtitle2\">{btnText}</Typography>\n          </Button>\n        </Link>\n      </Box>{' '}\n    </Box>\n  );\n};\n\nexport default AuthHeader;\n","import { AuthApiData } from '../../interface/AuthApiData';\nimport { FetchOptions } from '../../interface/FetchOptions';\n\nconst loginWithCookies = async (): Promise<AuthApiData> => {\n  const fetchOptions: FetchOptions = {\n    method: 'GET',\n    credentials: 'include',\n  };\n  return await fetch(`/auth/user`, fetchOptions)\n    .then((res) => res.json())\n    .catch(() => ({\n      error: { message: 'Unable to connect to server. Please try again' },\n    }));\n};\n\nexport default loginWithCookies;\n","import { AuthApiData } from '../../interface/AuthApiData';\nimport { FetchOptions } from '../../interface/FetchOptions';\n\nconst logout = async (): Promise<AuthApiData> => {\n  const fetchOptions: FetchOptions = {\n    method: 'GET',\n    credentials: 'include',\n  };\n  return await fetch(`/auth/logout`, fetchOptions)\n    .then((res) => res.json())\n    .catch(() => ({\n      error: { message: 'Unable to connect to server. Please try again' },\n    }));\n};\n\nexport default logout;\n","import { useState, useContext, createContext, FunctionComponent, useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { AuthApiData, AuthApiDataSuccess } from '../interface/AuthApiData';\nimport { User } from '../interface/User';\nimport loginWithCookies from '../helpers/APICalls/loginWithCookies';\nimport logoutAPI from '../helpers/APICalls/logout';\n\ninterface IAuthContext {\n  loggedInUser: User | null | undefined;\n  updateLoginContext: (data: AuthApiDataSuccess) => void;\n  logout: () => void;\n}\n\nexport const AuthContext = createContext<IAuthContext>({\n  loggedInUser: undefined,\n  updateLoginContext: () => null,\n  logout: () => null,\n});\n\nexport const AuthProvider: FunctionComponent = ({ children }): JSX.Element => {\n  // default undefined before loading, once loaded provide user or null if logged out\n  const [loggedInUser, setLoggedInUser] = useState<User | null | undefined>();\n  const history = useHistory();\n\n  const updateLoginContext = useCallback(\n    (data: AuthApiDataSuccess) => {\n      setLoggedInUser(data.user);\n      history.push('/home');\n    },\n    [history],\n  );\n\n  const logout = useCallback(async () => {\n    // needed to remove token cookie\n    await logoutAPI()\n      .then(() => {\n        history.push('/login');\n        setLoggedInUser(null);\n      })\n      .catch((error) => console.error(error));\n  }, [history]);\n\n  // use our cookies to check if we can login straight away\n  useEffect(() => {\n    const checkLoginWithCookies = async () => {\n      await loginWithCookies().then((data: AuthApiData) => {\n        if (data.success) {\n          updateLoginContext(data.success);\n          history.push('/home');\n        } else {\n          // don't need to provide error feedback as this just means user doesn't have saved cookies or the cookies have not been authenticated on the backend\n          setLoggedInUser(null);\n          history.push('/login');\n        }\n      });\n    };\n    checkLoginWithCookies();\n  }, [updateLoginContext, history]);\n\n  return <AuthContext.Provider value={{ loggedInUser, updateLoginContext, logout }}>{children}</AuthContext.Provider>;\n};\n\nexport function useAuth(): IAuthContext {\n  return useContext(AuthContext);\n}\n","import { useState, useContext, createContext, FunctionComponent, SyntheticEvent, useCallback } from 'react';\nimport Snackbar, { SnackbarCloseReason } from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\ninterface ISnackBarContext {\n  updateSnackBarMessage: (message: string) => void;\n}\n\nexport const SnackBarContext = createContext<ISnackBarContext>({\n  updateSnackBarMessage: () => null,\n});\n\nexport const SnackBarProvider: FunctionComponent = ({ children }): JSX.Element => {\n  const [message, setMessage] = useState<string | null>(null);\n  const [open, setOpen] = useState<boolean>(false);\n\n  const updateSnackBarMessage = useCallback((message: string) => {\n    setMessage(message);\n    setOpen(true);\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n  }, []);\n\n  const snackbarHandleClose = useCallback((event: SyntheticEvent, reason: SnackbarCloseReason) => {\n    if (reason === 'clickaway') return;\n    setOpen(false);\n  }, []);\n\n  return (\n    <SnackBarContext.Provider value={{ updateSnackBarMessage }}>\n      {children}\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={snackbarHandleClose}\n        message={message}\n        action={\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        }\n      />\n    </SnackBarContext.Provider>\n  );\n};\n\nexport function useSnackBar(): ISnackBarContext {\n  return useContext(SnackBarContext);\n}\n","import axios from 'axios';\nimport { IResponse } from '../../interface/ApiResponse';\nimport { IVideoDetails } from '../../interface/VideoDetails';\n\nexport const getAllVideos = async (): Promise<Array<IVideoDetails> | undefined> => {\n  try {\n    const response = await axios.post(`/videos/all-videos`);\n    return response.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const deleteVideo = async (videoId: string): Promise<IResponse> => {\n  return await axios.post('/videos/delete-video', { videoId });\n};\n","import { useState, useContext, createContext, FunctionComponent, useEffect, useCallback } from 'react';\nimport { getAllVideos } from '../helpers/APICalls/videosApis';\nimport { useSnackBar } from './useSnackbarContext';\nimport { IVideoDetails } from '../interface/VideoDetails';\n\ninterface IAllVideosContext {\n  handleGetAllVideos: () => void;\n  handleSetWatchVideo: (videoDetails: IAllVideosContext['watchVideo']) => void;\n  allVideos: Array<IVideoDetails> | undefined;\n  watchVideo: IVideoDetails | undefined;\n}\n\nexport const AllVideosContext = createContext<IAllVideosContext>({\n  handleGetAllVideos: () => null,\n  handleSetWatchVideo: () => null,\n\n  allVideos: undefined,\n  watchVideo: undefined,\n});\n\nexport const AllVideosProvider: FunctionComponent = ({ children }): JSX.Element => {\n  const [allVideos, setAllVideos] = useState<IAllVideosContext['allVideos']>(undefined);\n  const [watchVideo, setWatchVideo] = useState<IAllVideosContext['watchVideo']>(undefined);\n  const { updateSnackBarMessage } = useSnackBar();\n\n  const handleGetAllVideos = async (): Promise<void> => {\n    try {\n      const response = await getAllVideos();\n      if (response) {\n        setAllVideos(response);\n      }\n    } catch (err) {\n      console.error(err);\n      updateSnackBarMessage('videos is not updated');\n    }\n  };\n\n  const handleSetWatchVideo = (videoDetails: IAllVideosContext['watchVideo']): void => {\n    if (allVideos) {\n      const watchedVideo = allVideos.filter((video: IVideoDetails) => video._id === videoDetails?._id);\n      setWatchVideo(watchedVideo[0]);\n    }\n  };\n\n  useEffect(() => {\n    handleGetAllVideos();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <AllVideosContext.Provider\n      value={{\n        allVideos,\n        watchVideo,\n        handleGetAllVideos,\n        handleSetWatchVideo,\n      }}\n    >\n      {children}\n    </AllVideosContext.Provider>\n  );\n};\n\nexport function useAllVideos(): IAllVideosContext {\n  return useContext(AllVideosContext);\n}\n","import CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { FormikHelpers } from 'formik';\nimport Typography from '@material-ui/core/Typography';\nimport useStyles from './useStyles';\nimport login from '../../helpers/APICalls/login';\nimport LoginForm from './LoginForm/LoginForm';\nimport AuthHeader from '../../components/AuthHeader/AuthHeader';\nimport { useAuth } from '../../context/useAuthContext';\nimport { useSnackBar } from '../../context/useSnackbarContext';\nimport { useAllVideos } from '../../context/useAllVideosContext';\nimport { useEffect } from 'react';\n\nexport default function Login(): JSX.Element {\n  const classes = useStyles();\n  const { updateLoginContext } = useAuth();\n  const { updateSnackBarMessage } = useSnackBar();\n  const { allVideos, handleGetAllVideos } = useAllVideos();\n\n  useEffect(() => {\n    if (allVideos === undefined) handleGetAllVideos();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  const handleSubmit = (\n    { email, password }: { email: string; password: string },\n    { setSubmitting }: FormikHelpers<{ email: string; password: string }>,\n  ) => {\n    login(email, password).then((data) => {\n      if (data.error) {\n        setSubmitting(false);\n        updateSnackBarMessage(data.error.message);\n      } else if (data.success) {\n        updateLoginContext(data.success);\n      } else {\n        // should not get here from backend but this catch is for an unknown issue\n        console.error({ data });\n\n        setSubmitting(false);\n        updateSnackBarMessage('An unexpected error occurred. Please try again');\n      }\n    });\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <Box className={classes.authWrapper} style={{ color: 'white' }}>\n        <AuthHeader linkTo=\"/signup\" asideText=\"Don't have an account?\" btnText=\"Create account\" />\n        <Box width=\"100%\" maxWidth={500} p={3} alignSelf=\"center\">\n          <Paper elevation={5} className={classes.loginContainer}>\n            <Grid container>\n              <Grid item xs>\n                <Typography\n                  className={classes.welcome}\n                  align=\"center\"\n                  style={{ color: 'white' }}\n                  component=\"h1\"\n                  variant=\"h5\"\n                >\n                  Sign in\n                </Typography>\n              </Grid>\n            </Grid>\n            <LoginForm handleSubmit={handleSubmit} />\n          </Paper>\n        </Box>\n        <Box alignSelf=\"center\" />\n      </Box>\n    </Grid>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport image from '../../Images/backgroundImg.jpg';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: '100vh',\n    position: 'fixed',\n    top: 0,\n    background: `linear-gradient( rgba(0, 0, 0, 0.3) 100%, rgba(0, 0, 0, 0.3)100%),url(${image})`,\n    backgroundRepeat: ' no-repeat',\n    backgroundSize: 'cover',\n    backgroundAttachment: 'fixed',\n    backgroundPosition: 'center',\n    padding: '20px',\n    color: 'white',\n    paddingTop: '0',\n  },\n  signupContainer: {\n    background: 'rgb(25, 118, 210,0.8)',\n    padding: '20px 30px',\n  },\n  authWrapper: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    justifyContent: 'space-between',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    width: '100%',\n    paddingTop: 23,\n  },\n  welcome: {\n    fontSize: 26,\n    paddingBottom: 10,\n    color: '#ffffff',\n    fontWeight: 700,\n    fontFamily: \"'Open Sans'\",\n  },\n}));\n\nexport default useStyles;\n","import { AuthApiData } from '../../interface/AuthApiData';\nimport { FetchOptions } from '../../interface/FetchOptions';\n\nconst register = async (username: string, email: string, password: string): Promise<AuthApiData> => {\n  const fetchOptions: FetchOptions = {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ username, email, password }),\n    credentials: 'include',\n  };\n  return await fetch(`/auth/register`, fetchOptions)\n    .then((res) => res.json())\n    .catch(() => ({\n      error: { message: 'Unable to connect to server. Please try again' },\n    }));\n};\n\nexport default register;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  label: {\n    fontSize: 19,\n    color: 'white',\n    paddingLeft: '5px',\n  },\n  inputs: {\n    marginTop: '.8rem',\n    height: '2rem',\n    padding: '5px',\n    borderRadius: '5px',\n  },\n  forgot: {\n    paddingRight: 10,\n    color: '#3a8dff',\n  },\n  submit: {\n    margin: theme.spacing(3, 2, 2),\n    padding: 10,\n    width: 160,\n    height: 56,\n    borderRadius: theme.shape.borderRadius,\n    marginTop: 49,\n    fontSize: 16,\n    backgroundColor: '#3a8dff',\n    fontWeight: 'bold',\n  },\n}));\n\nexport default useStyles;\n","import Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport { Formik, FormikHelpers } from 'formik';\nimport * as Yup from 'yup';\nimport Typography from '@material-ui/core/Typography';\nimport useStyles from './useStyles';\nimport { CircularProgress } from '@material-ui/core';\n\ninterface Props {\n  handleSubmit: (\n    {\n      username,\n      email,\n      password,\n    }: {\n      email: string;\n      password: string;\n      username: string;\n    },\n    {\n      setStatus,\n      setSubmitting,\n    }: FormikHelpers<{\n      email: string;\n      password: string;\n      username: string;\n    }>,\n  ) => void;\n}\n\nconst SignUpForm = ({ handleSubmit }: Props): JSX.Element => {\n  const classes = useStyles();\n\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: '',\n        username: '',\n      }}\n      validationSchema={Yup.object().shape({\n        username: Yup.string().required('Username is required').max(40, 'Username is too long'),\n        email: Yup.string().required('Email is required').email('Email is not valid'),\n        password: Yup.string()\n          .required('Password is required')\n          .max(100, 'Password is too long')\n          .min(6, 'Password too short'),\n      })}\n      onSubmit={handleSubmit}\n    >\n      {({ handleSubmit, handleChange, values, touched, errors, isSubmitting }) => (\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\n          <TextField\n            id=\"username\"\n            label={<Typography className={classes.label}>Username</Typography>}\n            fullWidth\n            margin=\"normal\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            InputProps={{\n              classes: { input: classes.inputs },\n            }}\n            name=\"username\"\n            autoComplete=\"username\"\n            autoFocus\n            helperText={touched.username ? errors.username : ''}\n            error={touched.username && Boolean(errors.username)}\n            value={values.username}\n            onChange={handleChange}\n          />\n          <TextField\n            id=\"email\"\n            label={<Typography className={classes.label}>E-mail address</Typography>}\n            fullWidth\n            margin=\"normal\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            InputProps={{\n              classes: { input: classes.inputs },\n            }}\n            name=\"email\"\n            autoComplete=\"email\"\n            helperText={touched.email ? errors.email : ''}\n            error={touched.email && Boolean(errors.email)}\n            value={values.email}\n            onChange={handleChange}\n          />\n          <TextField\n            id=\"password\"\n            label={<Typography className={classes.label}>Password</Typography>}\n            fullWidth\n            margin=\"normal\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            InputProps={{\n              classes: { input: classes.inputs },\n            }}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            helperText={touched.password ? errors.password : ''}\n            error={touched.password && Boolean(errors.password)}\n            value={values.password}\n            onChange={handleChange}\n          />\n\n          <Box textAlign=\"center\">\n            <Button type=\"submit\" size=\"large\" variant=\"contained\" color=\"primary\" className={classes.submit}>\n              {isSubmitting ? <CircularProgress style={{ color: 'white' }} /> : 'Create account'}\n            </Button>\n          </Box>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nexport default SignUpForm;\n","import CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport { FormikHelpers } from 'formik';\nimport Typography from '@material-ui/core/Typography';\nimport useStyles from './useStyles';\nimport register from '../../helpers/APICalls/register';\nimport SignUpForm from './SignUpForm/SignUpForm';\nimport AuthHeader from '../../components/AuthHeader/AuthHeader';\nimport { useAuth } from '../../context/useAuthContext';\nimport { useSnackBar } from '../../context/useSnackbarContext';\n\nexport default function Register(): JSX.Element {\n  const classes = useStyles();\n  const { updateLoginContext } = useAuth();\n  const { updateSnackBarMessage } = useSnackBar();\n\n  const handleSubmit = (\n    { username, email, password }: { email: string; password: string; username: string },\n    { setSubmitting }: FormikHelpers<{ email: string; password: string; username: string }>,\n  ) => {\n    register(username, email, password).then((data) => {\n      if (data.error) {\n        console.error({ error: data.error.message });\n        setSubmitting(false);\n        updateSnackBarMessage(data.error.message);\n      } else if (data.success) {\n        updateLoginContext(data.success);\n      } else {\n        // should not get here from backend but this catch is for an unknown issue\n        console.error({ data });\n\n        setSubmitting(false);\n        updateSnackBarMessage('An unexpected error occurred. Please try again');\n      }\n    });\n  };\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <Box className={classes.authWrapper}>\n        <AuthHeader linkTo=\"/login\" asideText=\"Already have an account?\" btnText=\"Login\" />\n        <Box width=\"100%\" maxWidth={500} p={3} alignSelf=\"center\">\n          <Paper elevation={5} className={classes.signupContainer}>\n            <Grid container>\n              <Grid item xs>\n                <Typography className={classes.welcome} align=\"center\" component=\"h1\" variant=\"h5\">\n                  Create an account\n                </Typography>\n              </Grid>\n            </Grid>\n            <SignUpForm handleSubmit={handleSubmit} />\n          </Paper>\n        </Box>\n        <Box p={1} alignSelf=\"center\" />\n      </Box>\n    </Grid>\n  );\n}\n","import { useState, useContext, createContext, FunctionComponent, useCallback } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\ninterface ISocketContext {\n  socket: Socket | undefined;\n  initSocket: () => void;\n}\n\nexport const SocketContext = createContext<ISocketContext>({\n  socket: undefined,\n  initSocket: () => null,\n});\n\nexport const SocketProvider: FunctionComponent = ({ children }): JSX.Element => {\n  const [socket, setSocket] = useState<Socket | undefined>(undefined);\n\n  const initSocket = useCallback(() => {\n    console.log('trying to connect');\n    setSocket(\n      io('/', {\n        withCredentials: true,\n      }),\n    );\n  }, []);\n\n  return <SocketContext.Provider value={{ socket, initSocket }}>{children}</SocketContext.Provider>;\n};\n\nexport function useSocket(): ISocketContext {\n  return useContext(SocketContext);\n}\n","export default __webpack_public_path__ + \"static/media/logo.240aab52.svg\";","import { makeStyles } from '@material-ui/core/styles';\nimport InputBase from '@mui/material/InputBase';\nimport { styled, alpha } from '@mui/material/styles';\n\nexport const SearchIconWrapper = styled('div')(({ theme }) => ({\n  padding: theme.spacing(0, 2),\n  height: '100%',\n  position: 'absolute',\n  pointerEvents: 'none',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n}));\n\nexport const Search = styled('div')(({ theme }) => ({\n  position: 'relative',\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\n  },\n  marginRight: theme.spacing(2),\n  marginLeft: 0,\n  width: '60%',\n  [theme.breakpoints.up(1200)]: {\n    marginLeft: theme.spacing(3),\n    width: '60%',\n  },\n  [theme.breakpoints.down(1200)]: {\n    marginLeft: theme.spacing(3),\n    width: '50%',\n  },\n  [theme.breakpoints.down(1044)]: {\n    marginLeft: theme.spacing(3),\n    width: '40%',\n  },\n  [theme.breakpoints.down(900)]: {\n    marginLeft: theme.spacing(3),\n    width: '60%',\n  },\n  [theme.breakpoints.down(500)]: {\n    marginLeft: theme.spacing(2),\n    width: '100%',\n  },\n}));\n\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\n  color: 'inherit',\n  '& .MuiInputBase-input': {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create('width'),\n  },\n}));\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: '#E9EEF9',\n    marginLeft: 0,\n    height: '50px',\n    lineHeight: '18px',\n\n    width: `calc(${drawerWidth} - 2rem)`,\n  },\n  searchRoot: {\n    color: 'inherit',\n    width: '100%',\n    height: '100%',\n  },\n  searchInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    width: '100%',\n    fontWeight: 600,\n  },\n  searchIcon: {\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    marginLeft: '1rem',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  drawer: {\n    position: 'absolute',\n    width: '100%',\n    transition: 'height 1s',\n    bottom: '0%',\n    borderEndEndRadius: '5px',\n    borderBottomLeftRadius: '5px',\n    overFlow: 'hidden',\n  },\n  drawerBackDrop: {\n    position: 'fixed',\n    height: '100vh',\n    width: '100%',\n    bgColor: 'black',\n    left: 0,\n    top: 0,\n    zIndex: 1,\n    cursor: ' pointer',\n  },\n}));\n\nexport default useStyles;\n","import { useEffect, useState } from 'react';\nimport { useAllVideos } from '../../../../../context/useAllVideosContext';\nimport { useHistory } from 'react-router-dom';\nimport { List, Typography, ListItem, ListItemText } from '@material-ui/core';\nimport { IVideoDetails } from '../../../../../interface/VideoDetails';\ninterface IProps {\n  searchedVideo: string;\n  toggleDrawer: (\n    open: boolean,\n    height: string,\n    zIndex: number,\n    event: React.KeyboardEvent | React.MouseEvent | null,\n  ) => void;\n  setSearchedVideo: React.Dispatch<React.SetStateAction<string>>;\n}\n\nfunction SearchedVideosList({ searchedVideo, setSearchedVideo, toggleDrawer }: IProps): JSX.Element {\n  const { allVideos, handleSetWatchVideo } = useAllVideos();\n  const [searchResult, setSearchResult] = useState<Array<IVideoDetails>>([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (searchedVideo) {\n      handleSearch();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchedVideo]);\n\n  function handleSearch(): void {\n    if (allVideos) {\n      const filteredSearchedVideo = allVideos.filter((video) => {\n        const trimmedSearchValue = searchedVideo.replace(/\\s+/g, '').toLowerCase();\n        return video.videoTitle.toLowerCase().includes(trimmedSearchValue);\n      });\n      setSearchResult(filteredSearchedVideo);\n    }\n  }\n\n  function handleClickedSearchResult(video: IVideoDetails) {\n    handleSetWatchVideo(video);\n    toggleDrawer(false, '0', 0, null);\n    setSearchedVideo('');\n    history.push('/watch/' + video.videoTitle);\n  }\n\n  return (\n    <List>\n      {searchResult.length ? (\n        searchResult.map((video: IVideoDetails) => (\n          <ListItem button key={video.videoId} onClick={() => handleClickedSearchResult(video)}>\n            <ListItemText primary={video.videoTitle} />\n          </ListItem>\n        ))\n      ) : (\n        <ListItem>\n          <Typography variant=\"h6\" align=\"center\">\n            Search not found\n          </Typography>{' '}\n        </ListItem>\n      )}\n    </List>\n  );\n}\n\nexport default SearchedVideosList;\n","import * as React from 'react';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { useState, useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport { StyledInputBase, SearchIconWrapper, Search } from './SearchVideos/useStyles';\nimport { Paper, useMediaQuery, useTheme } from '@material-ui/core';\nimport useStyles from './SearchVideos/useStyles';\nimport SearchedVideosList from './SearchVideos/SearchedVideosList';\n\nexport default function SearchVideo(): JSX.Element {\n  const [searchedVideo, setSearchedVideo] = useState<string>('');\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [drawerHeight, setDrawerHeight] = useState('0');\n  const [searchBarIndex, setSearchBarIndex] = useState(0);\n  const theme = useTheme();\n  const isSmallOrLess = useMediaQuery(theme.breakpoints.up('sm'));\n  const classes = useStyles();\n\n  const toggleDrawer = (\n    open: boolean,\n    height: string,\n    zIndex: number,\n    event: React.KeyboardEvent | React.MouseEvent | null,\n  ) => {\n    if (event !== null) {\n      if (\n        event.type === 'keydown' &&\n        ((event as React.KeyboardEvent).key === 'Tab' || (event as React.KeyboardEvent).key === 'Shift')\n      ) {\n        return;\n      }\n    }\n\n    setDrawerHeight(height);\n    setSearchBarIndex(zIndex);\n    setOpenDrawer(open);\n  };\n\n  useEffect(() => {\n    if (searchedVideo.length) {\n      toggleDrawer(true, 'auto', 2, null);\n    }\n  }, [searchedVideo]);\n\n  return (\n    <>\n      <Search style={{ zIndex: searchBarIndex }}>\n        <SearchIconWrapper>\n          <SearchIcon />\n        </SearchIconWrapper>\n        <StyledInputBase\n          placeholder=\"Search for Videos\"\n          value={searchedVideo}\n          onChange={(e) => setSearchedVideo(e.target.value)}\n          inputProps={{ 'aria-label': 'search' }}\n        />\n\n        {openDrawer && (\n          <Box\n            className={classes.drawer}\n            sx={{ zIndex: 'modal', height: 0, color: 'text.primary' }}\n            role=\"presentation\"\n            onClick={(event) => toggleDrawer(false, '0', 0, event)}\n            // onKeyDown={(event) => (false, '0', 0, event)}\n          >\n            <Paper>\n              <SearchedVideosList\n                searchedVideo={searchedVideo}\n                setSearchedVideo={setSearchedVideo}\n                toggleDrawer={toggleDrawer}\n              />\n            </Paper>\n          </Box>\n        )}\n      </Search>\n      {openDrawer && (\n        <Box onClick={(event) => toggleDrawer(false, '0', 0, event)} className={classes.drawerBackDrop}></Box>\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IResponse, IGetUserResponse } from '../../interface/ApiResponse';\n\nexport const getUserDetails = async (userId: string): Promise<IGetUserResponse> => {\n  return await axios.get(`/users/get-details/${userId}`);\n};\n\nexport const unfollow = async (loggedInUsername?: string, userId?: string): Promise<IResponse> => {\n  return await axios.post('/user/remove-follower', { loggedInUsername, userId });\n};\n","import { getUserDetails } from '../helpers/APICalls/userApis';\nimport { useState, useContext, createContext, FunctionComponent } from 'react';\nimport { IVideoDetails } from '../interface/VideoDetails';\nimport { IUserDetails, User } from '../interface/User';\nimport { useSnackBar } from './useSnackbarContext';\n\ninterface IUserDetailsContext {\n  handleGetUserDetails: (user: User) => void;\n  userVideos: Array<IVideoDetails> | undefined;\n  userDetails: IUserDetails | undefined;\n}\n\nexport const UserDetailsContext = createContext<IUserDetailsContext>({\n  handleGetUserDetails: () => null,\n  userVideos: undefined,\n  userDetails: undefined,\n});\n\nexport const UserDetailsProvider: FunctionComponent = ({ children }): JSX.Element => {\n  const [userVideos, setUserVideos] = useState<IUserDetailsContext['userVideos']>(undefined);\n  const [userDetails, setUserDetails] = useState<IUserDetails | undefined>(undefined);\n  const { updateSnackBarMessage } = useSnackBar();\n\n  const handleGetUserDetails = async (user: User): Promise<void> => {\n    try {\n      const response = await getUserDetails(user.id);\n      console.log(response?.data, 'response?.data');\n      if (response?.data) {\n        setUserVideos(response.data.videos);\n        setUserDetails(response.data);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <UserDetailsContext.Provider\n      value={{\n        userVideos,\n        userDetails,\n        handleGetUserDetails,\n      }}\n    >\n      {children}\n    </UserDetailsContext.Provider>\n  );\n};\n\nexport function useUserDetails(): IUserDetailsContext {\n  return useContext(UserDetailsContext);\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const stringToColor = (string: string): string => {\n  let hash = 0;\n  let i;\n\n  /* eslint-disable no-bitwise */\n  for (i = 0; i < string.length; i += 1) {\n    hash = string.charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  let color = '#';\n\n  for (i = 0; i < 3; i += 1) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  /* eslint-enable no-bitwise */\n\n  return color;\n};\n\nexport const stringAvatar = (\n  name: string,\n  width: number,\n  height: number,\n): {\n  sx: {\n    bgcolor: string;\n    width: number;\n    height: number;\n  };\n  children: string;\n} => {\n  return {\n    sx: {\n      bgcolor: stringToColor(name),\n      width,\n      height,\n    },\n    children: `${name[0]}`,\n  };\n};\n\nconst useStyles = makeStyles((theme) => ({\n  // root: {\n  //   minHeight: '100vh',\n  //   '& .MuiInput-underline:before': {\n  //     borderBottom: '1.2px solid rgba(0, 0, 0, 0.2)',\n  //   },\n  // },\n  profile: {\n    color: 'white',\n  },\n  videos: {\n    minHeight: '90vh',\n  },\n  videoContainer: {\n    display: 'flex',\n    margin: '10px',\n    padding: '10px',\n    borderRadius: '5px',\n    textOverflow: 'ellipsis',\n    [theme.breakpoints.down(1200)]: {\n      flexDirection: 'column',\n    },\n  },\n  videoDetailsContainer: {\n    padding: '0 10px',\n    [theme.breakpoints.down(1200)]: {\n      paddingTop: '10px',\n    },\n  },\n  iconButton: {\n    position: 'absolute',\n    right: '10%',\n    top: '80%',\n    background: 'green',\n    '&:hover': {\n      background: 'green',\n    },\n  },\n\n  bottomSpace: { marginBottom: '30px' },\n}));\n\nexport default useStyles;\n","import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport Stack from '@mui/material/Stack';\nimport MenuItem from '@mui/material/MenuItem';\nimport Menu from '@mui/material/Menu';\nimport LogoutOutlinedIcon from '@mui/icons-material/LogoutOutlined';\nimport PersonOutlinedIcon from '@mui/icons-material/PersonOutlined';\nimport DriveFolderUploadOutlinedIcon from '@mui/icons-material/DriveFolderUploadOutlined';\nimport { useHistory } from 'react-router';\nimport { useAuth } from '../../../../context/useAuthContext';\nimport HomeOutlinedIcon from '@mui/icons-material/HomeOutlined';\nimport { useUserDetails } from '../../../../context/useUserContext';\nimport { User } from '../../../../interface/User';\n\ninterface IProps {\n  loggedInUser: User;\n  mobileMoreAnchorEl: null | HTMLElement;\n  anchorEl: null | HTMLElement;\n  setAnchorEl: React.Dispatch<null | HTMLElement>;\n  setMobileMoreAnchorEl: React.Dispatch<null | HTMLElement>;\n}\n\nexport default function MobileMenu({\n  loggedInUser,\n  anchorEl,\n  mobileMoreAnchorEl,\n  setMobileMoreAnchorEl,\n  setAnchorEl,\n}: IProps): JSX.Element {\n  const isMenuOpen = Boolean(mobileMoreAnchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const { logout } = useAuth();\n  const history = useHistory();\n  const { handleGetUserDetails } = useUserDetails();\n\n  const handleShowAccount = async (): Promise<void> => {\n    await handleGetUserDetails(loggedInUser);\n    history.push(`/profile/${loggedInUser.username}`);\n  };\n\n  const handleMenuClose = (params: string) => {\n    if (params === 'logout') {\n      logout();\n    } else if (params === 'profile') {\n      handleShowAccount();\n    } else if (params === 'Home') {\n      history.push('/home');\n    } else {\n      history.push('/upload-video');\n    }\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n\n  return (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={() => handleMenuClose('Home')}>\n        <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"inherit\">\n            <HomeOutlinedIcon color=\"primary\" />\n          </IconButton>\n          <Box style={{ color: '#1976D2' }}>Home</Box>\n        </Stack>\n      </MenuItem>\n      <MenuItem onClick={() => handleMenuClose('profile')}>\n        <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"inherit\">\n            <PersonOutlinedIcon color=\"primary\" />\n          </IconButton>\n          <Box style={{ color: '#1976D2' }}>Profile</Box>\n        </Stack>\n      </MenuItem>\n      <MenuItem onClick={() => handleMenuClose('upload')}>\n        <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"inherit\">\n            <DriveFolderUploadOutlinedIcon color=\"primary\" />\n          </IconButton>\n          <Box style={{ color: '#1976D2' }}>Upload Video</Box>\n        </Stack>\n      </MenuItem>\n      <MenuItem onClick={() => handleMenuClose('logout')}>\n        <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <IconButton\n            size=\"large\"\n            aria-label=\"account of current user\"\n            aria-controls=\"primary-search-account-menu\"\n            aria-haspopup=\"true\"\n            color=\"inherit\"\n          >\n            <LogoutOutlinedIcon color=\"primary\" />\n          </IconButton>\n          <Box style={{ color: '#1976D2' }}>Logout</Box>{' '}\n        </Stack>\n      </MenuItem>\n    </Menu>\n  );\n}\n","import * as React from 'react';\nimport Box from '@mui/material/Box';\nimport IconButton from '@mui/material/IconButton';\nimport Stack from '@mui/material/Stack';\nimport MenuItem from '@mui/material/MenuItem';\nimport Menu from '@mui/material/Menu';\nimport LogoutOutlinedIcon from '@mui/icons-material/LogoutOutlined';\nimport PersonOutlinedIcon from '@mui/icons-material/PersonOutlined';\nimport { useHistory } from 'react-router';\nimport { useAuth } from '../../../../context/useAuthContext';\nimport { useUserDetails } from '../../../../context/useUserContext';\nimport { User } from '../../../../interface/User';\n\ninterface IProps {\n  loggedInUser: User;\n  anchorEl: null | HTMLElement;\n  setAnchorEl: React.Dispatch<null | HTMLElement>;\n}\n\nexport default function DesktopMenu({ loggedInUser, anchorEl, setAnchorEl }: IProps): JSX.Element {\n  const isMenuOpen = Boolean(anchorEl);\n  const { logout } = useAuth();\n  const history = useHistory();\n  const { handleGetUserDetails } = useUserDetails();\n\n  const handleShowAccount = async (): Promise<void> => {\n    await handleGetUserDetails(loggedInUser);\n    history.push(`/profile/${loggedInUser.username}`);\n  };\n\n  const handleMenuClose = (params: string) => {\n    if (params === 'logout') {\n      logout();\n    } else if (params === 'profile') {\n      handleShowAccount();\n    }\n    setAnchorEl(null);\n  };\n\n  const menuId = 'primary-search-account-menu';\n\n  return (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={() => handleMenuClose('profile')}>\n        <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"primary\">\n            <PersonOutlinedIcon />\n          </IconButton>\n          <Box style={{ color: '#1976D2' }}>Profile</Box>\n        </Stack>\n      </MenuItem>\n      <MenuItem onClick={() => handleMenuClose('logout')}>\n        {' '}\n        <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n          <IconButton\n            size=\"large\"\n            aria-label=\"account of current user\"\n            aria-controls=\"primary-search-account-menu\"\n            aria-haspopup=\"true\"\n            color=\"primary\"\n          >\n            <LogoutOutlinedIcon />\n          </IconButton>\n          <Box style={{ color: '#1976D2' }}>Logout</Box>{' '}\n        </Stack>\n      </MenuItem>\n    </Menu>\n  );\n}\n","/* eslint-disable prettier/prettier */\r\nimport * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Typography from '@mui/material/Typography';\r\nimport MoreIcon from '@mui/icons-material/MoreVert';\r\nimport logo from '../NavBar/Logo/logo.svg';\r\nimport { useHistory } from 'react-router';\r\nimport { useAuth } from '../../../context/useAuthContext';\r\nimport SearchVideo from './Search/Search';\r\nimport { useUserDetails } from '../../../context/useUserContext';\r\nimport { User } from '../../../interface/User';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { stringAvatar } from '../../../pages/Profile/useStyles';\r\nimport MobileMenu from './Menubar/MobileMenu';\r\nimport DesktopMenu from './Menubar/DesktopMenu';\r\n\r\ninterface IProps {\r\n  loggedInUser: User;\r\n}\r\n\r\nexport default function NavBar({ loggedInUser }: IProps): JSX.Element {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const { logout } = useAuth();\r\n  const history = useHistory();\r\n  const { handleGetUserDetails } = useUserDetails();\r\n\r\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleShowAccount = async (): Promise<void> => {\r\n    await handleGetUserDetails(loggedInUser);\r\n    history.push(`/profile/${loggedInUser.username}`);\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = <DesktopMenu loggedInUser={loggedInUser} setAnchorEl={setAnchorEl} anchorEl={anchorEl} />;\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <MobileMenu\r\n      setMobileMoreAnchorEl={setMobileMoreAnchorEl}\r\n      loggedInUser={loggedInUser}\r\n      setAnchorEl={setAnchorEl}\r\n      mobileMoreAnchorEl={mobileMoreAnchorEl}\r\n      anchorEl={anchorEl}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar sx={{ height: 50 }}>\r\n          <IconButton\r\n            size=\"large\"\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={() => '/home'}\r\n            sx={{ mr: 2 }}\r\n          >\r\n            {/* <MenuIcon /> */}\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              {' '}\r\n              <img src={logo} alt=\"logo\" style={{ marginRight: '10px' }} />{' '}\r\n              <Typography variant=\"h6\" noWrap component=\"div\" sx={{ display: { xs: 'none', sm: 'block' } }}>\r\n                VStreamer\r\n              </Typography>\r\n            </Box>\r\n          </IconButton>\r\n\r\n          <SearchVideo />\r\n          <Box sx={{ flexGrow: 1 }} />\r\n          <Box sx={{ display: { xs: 'none', md: 'flex' } }}>\r\n            <IconButton\r\n              size=\"large\"\r\n              aria-label=\"show 4 new mails\"\r\n              color=\"inherit\"\r\n              onClick={() => history.push('/home')}\r\n            >\r\n              <Typography>Home</Typography>\r\n            </IconButton>\r\n            <IconButton size=\"large\" aria-label=\"show 17 new notifications\" color=\"inherit\" onClick={handleShowAccount}>\r\n              <Typography>My Account</Typography>\r\n            </IconButton>\r\n            <IconButton\r\n              size=\"large\"\r\n              aria-label=\"show 17 new notifications\"\r\n              color=\"inherit\"\r\n              onClick={() => history.push('/upload-video')}\r\n            >\r\n              <Typography>Upload Video</Typography>\r\n            </IconButton>\r\n            <IconButton\r\n              size=\"large\"\r\n              edge=\"end\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleProfileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <Avatar\r\n                {...stringAvatar(loggedInUser.username.toUpperCase(), 50, 50)}\r\n                src={`/image/get-image/${loggedInUser.id}`}\r\n              />\r\n            </IconButton>\r\n          </Box>\r\n          <Box sx={{ display: { xs: 'flex', md: 'none' } }}>\r\n            <IconButton\r\n              size=\"large\"\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, CircularProgress } from '@material-ui/core';\nimport { useAuth } from '../../context/useAuthContext';\nimport NavBar from './NavBar/NavBar';\nimport { useHistory } from 'react-router';\nimport { useSocket } from '../../context/useSocketContext';\nimport { useEffect } from 'react';\nimport { useUserDetails } from '../../context/useUserContext';\n\nfunction Layout(): JSX.Element {\n  const { loggedInUser } = useAuth();\n  const { userDetails } = useUserDetails();\n  const history = useHistory();\n  const { initSocket } = useSocket();\n\n  useEffect(() => {\n    initSocket();\n  }, [initSocket]);\n\n  if (loggedInUser === undefined) {\n    return <CircularProgress />;\n  }\n  if (!loggedInUser) {\n    history.push('/login');\n    // loading for a split seconds until history.push works\n    return <CircularProgress />;\n  }\n\n  return (\n    <Box\n      style={{\n        display: !loggedInUser ? 'none' : 'block',\n        position: 'fixed',\n        width: '100%',\n        top: 0,\n        left: 0,\n        zIndex: 1000,\n      }}\n    >\n      <NavBar loggedInUser={loggedInUser} />\n    </Box>\n  );\n}\n\nexport default Layout;\n","import { CircularProgress } from '@mui/material';\nimport { Typography } from '@mui/material';\nimport Player from 'react-player';\n\ninterface IProps {\n  videoSource: string | undefined;\n  setVideoDuration: React.Dispatch<string>;\n  videoPlayerOptions: {\n    width: string;\n    height: string;\n    autoPlay: boolean;\n    component: string;\n    classes: any;\n  };\n}\n\nexport default function VideoPlayer({ videoSource, videoPlayerOptions, setVideoDuration }: IProps): JSX.Element {\n  const { width, height, autoPlay, component, classes } = videoPlayerOptions;\n\n  const handleDuration = (duration: number): void => {\n    const durationInMinutes = duration / 60;\n    setVideoDuration(durationInMinutes.toFixed(2).toString());\n  };\n\n  return (\n    <>\n      {videoSource ? (\n        <Player\n          playing={autoPlay}\n          controls\n          width={parseInt(width)}\n          onDuration={(duration) => handleDuration(duration)}\n          height={parseInt(height)}\n          style={{ zIndex: 0 }}\n          url={videoSource}\n        />\n      ) : (\n        <>\n          <video id=\"videoId\" autoPlay={autoPlay} width={width} height={height} controls style={{ zIndex: 0 }}>\n            <source src={videoSource} type=\"video/mp4\" />\n            <source src={videoSource} type=\"video/ogg\" />\n            Your browser does not support HTML video.\n          </video>\n          {component !== 'UploadVideoForm' ? (\n            <CircularProgress sx={{ position: 'absolute', top: '40%', right: '45%', color: 'white' }} />\n          ) : (\n            <Typography>Select video</Typography>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { Box, Button, CircularProgress } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { useAuth } from '../../../context/useAuthContext';\nimport { useUserDetails } from '../../../context/useUserContext';\nimport { IVideoDetails } from '../../../interface/VideoDetails';\nimport { deleteVideo } from '../../../helpers/APICalls/videosApis';\nimport { useAllVideos } from '../../../context/useAllVideosContext';\nimport { useSnackBar } from '../../../context/useSnackbarContext';\ninterface Props {\n  renderedComponent: string;\n  video: IVideoDetails;\n}\n\nexport default function UpdateVideo({ renderedComponent, video }: Props): JSX.Element {\n  const { loggedInUser } = useAuth();\n  const { userDetails } = useUserDetails();\n  const [isUser, setIsUser] = useState(false);\n  const { handleGetAllVideos } = useAllVideos();\n  const [isDeleting, setDeleting] = useState(false);\n  const { updateSnackBarMessage } = useSnackBar();\n\n  useEffect(() => {\n    if (loggedInUser && userDetails) {\n      if (loggedInUser.username === userDetails.username && renderedComponent === 'Profile') {\n        setIsUser(true);\n      } else {\n        setIsUser(false);\n      }\n    }\n  }, [loggedInUser, userDetails, renderedComponent]);\n\n  const handleDeleteVideoDetails = async (): Promise<void> => {\n    setDeleting(true);\n    try {\n      const { data } = await deleteVideo(video._id);\n      if (data?.success) {\n        handleGetAllVideos();\n        updateSnackBarMessage('video successfully deleted');\n      } else {\n        updateSnackBarMessage('video not deleted, Please try again later');\n      }\n    } catch (err) {\n      console.error(err);\n      updateSnackBarMessage('video not deleted, Please try again later');\n    }\n    setDeleting(false);\n  };\n\n  return (\n    <>\n      {isUser && (\n        <Box display=\"flex\" justifyContent=\"space-between\" sx={{ position: 'absolute', bottom: 0, right: 0 }}>\n          <Button\n            startIcon={<DeleteIcon />}\n            disabled={isDeleting}\n            onClick={handleDeleteVideoDetails}\n            variant=\"contained\"\n            color=\"warning\"\n          >\n            {isDeleting ? <CircularProgress style={{ fontSize: 0, width: '20px', height: '20px' }} /> : 'Delete'}\n          </Button>\n        </Box>\n      )}\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textSpacing: {\n    margin: '5px 0',\n    fontSize: '0.8rem',\n  },\n  imageBox: {\n    height: '16rem',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  uploadImage: {\n    height: '3rem',\n    width: '3rem',\n    margin: '2rem',\n  },\n  typography: {\n    textAlign: 'center',\n    cursor: 'pointer',\n  },\n  buttonStyle: {\n    marginBottom: 16,\n    marginTop: '2rem',\n    width: '80%',\n  },\n  textFontSize: {\n    fontSize: '0.8rem',\n  },\n}));\n\nexport default useStyles;\n","import React, { useEffect, useState } from 'react';\nimport { useAllVideos } from '../../context/useAllVideosContext';\nimport { useHistory } from 'react-router-dom';\nimport VideoPlayer from '../VideoPlayer/VideosPlayer';\nimport { IVideoDetails } from '../../interface/VideoDetails';\nimport { useSnackBar } from '../../context/useSnackbarContext';\nimport { Typography, Grid, Box, Button, Paper, Stack } from '@mui/material';\nimport DeleteVideo from '../../pages/Profile/DeleteVideo/DeleteVideo';\nimport useStyles from './useStyles';\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp';\nimport ThumbDownAltIcon from '@mui/icons-material/ThumbDownAlt';\nimport RemoveRedEyeIcon from '@mui/icons-material/RemoveRedEye';\nimport { useUserDetails } from '../../context/useUserContext';\nimport { User } from '../../interface/User';\nimport moment from 'moment';\n\ninterface IProps {\n  videos: Array<IVideoDetails> | undefined;\n  videoPlayerOptions: {\n    width: string;\n    height: string;\n    autoPlay: boolean;\n    displayDetails: boolean;\n    component: string;\n    classes: any;\n  };\n}\n\nexport default function VideosList({ videos, videoPlayerOptions }: IProps): JSX.Element {\n  const { handleSetWatchVideo, watchVideo } = useAllVideos();\n  const history = useHistory();\n  const { classes } = videoPlayerOptions;\n  const { updateSnackBarMessage } = useSnackBar();\n  const { component } = videoPlayerOptions;\n  const videoListStyle = useStyles();\n  const [videoDuration, setVideoDuration] = useState<string | undefined>();\n  const { userDetails, handleGetUserDetails } = useUserDetails();\n  // const [displayViewedVideo, setDisplayViewedVideo] = useState(false);\n\n  const displayViewedVideo = (videoId: string): boolean => {\n    if (watchVideo?._id === videoId && component === 'Watch') {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  function handleClickVideo(video: IVideoDetails) {\n    if (video === undefined) {\n      return updateSnackBarMessage('Waiting For Server');\n    }\n\n    handleSetWatchVideo(video);\n    history.push(`/watch/${video.videoTitle}`);\n  }\n\n  const handleDisplayUserProfile = async (user: User): Promise<void> => {\n    await handleGetUserDetails(user);\n    history.push(`/profile/${user.username}`);\n  };\n\n  return (\n    <React.Fragment>\n      {videos ? (\n        videos.map(\n          (video) =>\n            displayViewedVideo(video._id) && (\n              <Paper className={classes.videoContainer} key={video._id}>\n                <Box\n                  display=\"flex\"\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  sx={{\n                    position: 'relative',\n                    background: 'black',\n                  }}\n                >\n                  <Box\n                    sx={{\n                      position: 'absolute',\n                      width: '100%',\n                      height: '100%',\n                      cursor: 'pointer',\n                      zIndex: 1,\n                    }}\n                    onClick={() => handleClickVideo(video)}\n                  ></Box>\n                  <VideoPlayer\n                    videoSource={video.videoSource}\n                    videoPlayerOptions={videoPlayerOptions}\n                    setVideoDuration={setVideoDuration}\n                  />\n                </Box>\n                {videoPlayerOptions\n                  ? videoPlayerOptions.displayDetails && (\n                      <Box className={classes.videoDetailsContainer} style={{ width: '100%', position: 'relative' }}>\n                        <Box>\n                          <Typography variant=\"h5\" align=\"center\">\n                            {video.videoTitle}\n                          </Typography>\n                        </Box>\n                        <Box></Box>\n                        <Box className={videoListStyle.textSpacing}>\n                          <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n                            <Typography variant=\"subtitle1\">Posted by: </Typography>{' '}\n                            <Typography\n                              onClick={() =>\n                                handleDisplayUserProfile({\n                                  username: video.username,\n                                  id: video.userId,\n                                  email: 'undefined',\n                                })\n                              }\n                              sx={{ fontWeight: 'bold', cursor: 'pointer' }}\n                              color=\"primary\"\n                            >\n                              {video.username}\n                            </Typography>\n                          </Stack>\n                        </Box>{' '}\n                        <Box className={videoListStyle.textSpacing}>\n                          <Typography variant=\"subtitle1\">Artist: {video.artist}</Typography>\n                        </Box>\n                        <Box className={videoListStyle.textSpacing}>\n                          <Typography variant=\"subtitle1\">Category: {video.videoCategory}</Typography>\n                        </Box>\n                        <Box className={videoListStyle.textSpacing}>\n                          <Typography variant=\"subtitle1\">Duration: {video.videoDuration}</Typography>\n                        </Box>{' '}\n                        <Box className={videoListStyle.textSpacing}>\n                          <Typography variant=\"subtitle1\" component=\"span\">\n                            Date: &nbsp;\n                            <Typography style={{ fontSize: '0.8rem' }} component=\"span\">\n                              {moment(video.datePosted).format('MMMM Do YYYY')}\n                            </Typography>\n                          </Typography>\n                        </Box>\n                        <Box className={videoListStyle.textSpacing}>\n                          <Stack direction=\"row\" spacing={2}>\n                            {' '}\n                            <Box>\n                              {' '}\n                              <ThumbUpIcon sx={{ color: 'green', marginRight: '7px' }} />\n                              {video.likes?.length}\n                            </Box>{' '}\n                            <Box>\n                              <ThumbDownAltIcon sx={{ color: 'red', marginRight: '7px' }} />\n                              {video.dislikes?.length}\n                            </Box>\n                          </Stack>\n                        </Box>\n                        <Box className={videoListStyle.textSpacing}>\n                          <Typography variant=\"subtitle1\">\n                            <RemoveRedEyeIcon sx={{ marginRight: '7px' }} />\n                            {video.views?.length}\n                          </Typography>\n                        </Box>\n                        <DeleteVideo renderedComponent={component} video={video} />\n                      </Box>\n                    )\n                  : ''}\n              </Paper>\n            ),\n        )\n      ) : (\n        <Typography>No Videos to Display</Typography>\n      )}\n    </React.Fragment>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: '100vh',\n    '& .MuiInput-underline:before': {\n      borderBottom: '1.2px solid rgba(0, 0, 0, 0.2)',\n      background: '#F2F2F7 ',\n    },\n  },\n  profile: {\n    minHeight: '90vh',\n  },\n  videoContainer: {\n    display: 'flex',\n    margin: '10px',\n    padding: '10px',\n    backgroundColor: '#f2f2f7',\n    borderRadius: '5px',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column',\n    },\n  },\n  videos: {\n    minHeight: '90vh',\n  },\n  videoDetailsContainer: {\n    padding: '0 10px',\n    [theme.breakpoints.down('sm')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default useStyles;\n","import { Box, Container, Paper, Grid, useMediaQuery, useTheme, Typography } from '@material-ui/core';\nimport { useEffect } from 'react';\nimport VideosList from '../../components/VideosList/VideosList';\nimport { useAllVideos } from '../../context/useAllVideosContext';\nimport { useAuth } from '../../context/useAuthContext';\nimport useStyles from './useStyles';\n\nexport default function Home(): JSX.Element {\n  const classes = useStyles();\n  const { loggedInUser } = useAuth();\n  const { allVideos, handleGetAllVideos } = useAllVideos();\n  const theme = useTheme();\n  const isSmallOrLess = useMediaQuery(theme.breakpoints.up('sm'));\n\n  const videoPlayerOptions = {\n    width: '550',\n    height: isSmallOrLess ? '300' : '200',\n    autoPlay: false,\n    displayDetails: true,\n    component: 'Home',\n    classes,\n  };\n  useEffect(() => {\n    if (allVideos === undefined) handleGetAllVideos();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  return (\n    <Grid container component=\"div\">\n      <Grid\n        item\n        lg={10}\n        md={11}\n        sm={10}\n        xs={12}\n        style={{ minHeight: '100vh', padding: ' 25px  10px', margin: '0 auto' }}\n      >\n        <VideosList videos={allVideos} videoPlayerOptions={videoPlayerOptions} />\n      </Grid>\n    </Grid>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const stringToColor = (string: string): string => {\n  let hash = 0;\n  let i;\n\n  /* eslint-disable no-bitwise */\n  for (i = 0; i < string.length; i += 1) {\n    hash = string.charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  let color = '#';\n\n  for (i = 0; i < 3; i += 1) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  /* eslint-enable no-bitwise */\n\n  return color;\n};\n\nexport const stringAvatar = (\n  name: string,\n  width: number,\n  height: number,\n): {\n  sx: {\n    bgcolor: string;\n    width: number;\n    height: number;\n  };\n  children: string;\n} => {\n  return {\n    sx: {\n      bgcolor: stringToColor(name),\n      width,\n      height,\n    },\n    children: `${name[0]}`,\n  };\n};\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    minHeight: '100vh',\n    '& .MuiInput-underline:before': {\n      borderBottom: '1.2px solid rgba(0, 0, 0, 0.2)',\n    },\n  },\n  profile: {\n    minHeight: '90vh',\n  },\n  videos: {\n    minHeight: '90vh',\n  },\n  videoContainer: {\n    marginBottom: '5px ',\n  },\n  addCommentBtn: { position: 'absolute', marginTop: '-3rem', right: '0%', background: '#1976D2' },\n}));\n\nexport default useStyles;\n","import axios from 'axios';\nimport { IUpdateLikesResponse } from '../../interface/ApiResponse';\n\nexport const updateLikes = async (\n  loggedInUsername: string,\n  userId: string,\n  videoId: string,\n  userImage?: string,\n): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/likes/add-like', { loggedInUsername, userId, videoId, userImage });\n};\n\nexport const updateDislikes = async (\n  loggedInUsername: string,\n  userId: string,\n  videoId: string,\n): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/likes/add-dislike', { loggedInUsername, userId, videoId });\n};\n\nexport const removeLikes = async (userId: string, videoId: string): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/likes/remove-like', { userId, videoId });\n};\n\nexport const removeDislikes = async (userId: string, videoId: string): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/likes/remove-dislike', { userId, videoId });\n};\n","import { Grid, Box, Typography, Stack } from '@mui/material';\nimport { ILike } from '../../../interface/VideoDetails';\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp';\nimport ThumbDownAltIcon from '@mui/icons-material/ThumbDownAlt';\nimport { useAllVideos } from '../../../context/useAllVideosContext';\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '../../../context/useAuthContext';\nimport useStyles from '../useStyles';\nimport IconButton from '@mui/material/IconButton';\nimport { updateLikes, updateDislikes, removeLikes, removeDislikes } from '../../../helpers/APICalls/likesApis';\nimport { useSnackBar } from '../../../context/useSnackbarContext';\n\nexport default function Likes(): JSX.Element {\n  const classes = useStyles();\n  const { allVideos, watchVideo, handleGetAllVideos, handleSetWatchVideo } = useAllVideos();\n  const { loggedInUser } = useAuth();\n  const [likes, setLikes] = useState<ILike[] | undefined>([]);\n  const [dislikes, setDislikes] = useState<ILike[] | undefined>([]);\n  const { updateSnackBarMessage } = useSnackBar();\n  useEffect(() => {\n    setLikes(watchVideo?.likes);\n    setDislikes(watchVideo?.dislikes);\n  }, [watchVideo]);\n\n  useEffect(() => {\n    if (allVideos) {\n      handleSetWatchVideo(watchVideo);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  const checkUserExist = (params: ILike[] | undefined): boolean => {\n    const filterUser = params?.filter((user) => user.userId === loggedInUser?.id);\n    if (filterUser?.length) {\n      return true;\n    }\n    return false;\n  };\n\n  const handleLike = async (): Promise<void> => {\n    if (loggedInUser) {\n      if (watchVideo) {\n        const { _id, userId } = watchVideo;\n        const videoId = _id;\n        try {\n          if (checkUserExist(dislikes)) {\n            await handleDislike();\n          }\n\n          if (checkUserExist(likes)) {\n            const { data } = await removeLikes(userId, videoId);\n            if (data?.success) {\n              return handleGetAllVideos();\n            }\n          } else {\n            const { data } = await updateLikes(loggedInUser.username, userId, videoId, loggedInUser.userImage);\n            if (data?.success) {\n              return handleGetAllVideos();\n            } else {\n              updateSnackBarMessage('something went wrong,please try again');\n            }\n          }\n        } catch (err) {\n          console.error(err);\n          updateSnackBarMessage('something went wrong,please try again');\n        }\n      }\n    }\n  };\n\n  const handleDislike = async (): Promise<void> => {\n    if (loggedInUser) {\n      if (watchVideo) {\n        const { _id, userId } = watchVideo;\n        const videoId = _id;\n\n        try {\n          if (checkUserExist(likes)) {\n            await handleLike();\n          }\n\n          if (checkUserExist(dislikes)) {\n            const { data } = await removeDislikes(userId, videoId);\n            if (data?.success) {\n              return handleGetAllVideos();\n            }\n          } else {\n            const { data } = await updateDislikes(loggedInUser.username, userId, videoId);\n            if (data?.success) {\n              return handleGetAllVideos();\n            } else {\n              updateSnackBarMessage('something went wrong,please try again');\n            }\n          }\n        } catch (err) {\n          updateSnackBarMessage('something went wrong,please try again');\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      <Stack direction=\"row\" spacing={1}>\n        <Stack direction=\"row\" alignItems=\"center\">\n          <IconButton aria-label=\"update\" onClick={handleLike} size=\"small\">\n            <ThumbUpIcon sx={{ color: checkUserExist(likes) ? 'green' : '#757575' }} />\n          </IconButton>\n          <Typography> {likes?.length}</Typography>\n        </Stack>\n\n        <Stack direction=\"row\" alignItems=\"center\">\n          <IconButton aria-label=\"update\" size=\"small\" onClick={handleDislike}>\n            <ThumbDownAltIcon sx={{ color: checkUserExist(dislikes) ? 'red' : '#757575' }} />\n          </IconButton>\n          <Typography> {dislikes?.length}</Typography>\n        </Stack>\n      </Stack>\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IResponse } from '../../interface/ApiResponse';\n\ninterface IParams {\n  userId: string;\n  videoId: string;\n  commentId?: string | undefined;\n}\n\nexport const addComment = async (\n  comment: string,\n  userId: string,\n  videoId: string,\n  loggedInUsername?: string,\n): Promise<IResponse> => {\n  return await axios.post('/comment/add-comment', { comment, userId, videoId, loggedInUsername });\n};\n\nexport const editComment = async (\n  comment: string,\n  userId: string,\n  videoId: string,\n  commentId?: string | undefined,\n): Promise<IResponse> => {\n  return await axios.post('/comment/edit-comment', { comment, userId, videoId, commentId });\n};\n\nexport const deleteComment = async ({ userId, videoId, commentId }: IParams): Promise<IResponse> => {\n  return await axios.post('/comment/delete-comment', { userId, videoId, commentId });\n};\n","import { Button, Box, TextareaAutosize, Stack, Typography } from '@mui/material';\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\nimport { useAllVideos } from '../../../../context/useAllVideosContext';\nimport { useEffect } from 'react';\nimport { useAuth } from '../../../../context/useAuthContext';\nimport useStyles from '../../useStyles';\nimport IconButton from '@mui/material/IconButton';\nimport { addComment, editComment } from '../../../../helpers/APICalls/commentApis';\nimport { useSnackBar } from '../../../../context/useSnackbarContext';\n\ninterface Props {\n  openComment: boolean;\n  setOpenComment: React.Dispatch<boolean>;\n  isEditComment: boolean;\n  setEditComment: React.Dispatch<boolean>;\n  setComment: React.Dispatch<string>;\n  comment: string;\n  commentId: string;\n}\n\nexport default function AddComment({\n  openComment,\n  setOpenComment,\n  isEditComment,\n  setEditComment,\n  comment,\n  setComment,\n  commentId,\n}: Props): JSX.Element {\n  const classes = useStyles();\n  const { allVideos, watchVideo, handleGetAllVideos, handleSetWatchVideo } = useAllVideos();\n  const { loggedInUser } = useAuth();\n  const { updateSnackBarMessage } = useSnackBar();\n\n  useEffect(() => {\n    if (allVideos) {\n      handleSetWatchVideo(watchVideo);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  const handleAddComment = async (e: React.FormEvent<HTMLFormElement>): Promise<void> => {\n    e.preventDefault();\n\n    if (!comment) {\n      return;\n    }\n    const loggedInUsername = loggedInUser?.username;\n    if (watchVideo) {\n      const { userId, _id } = watchVideo;\n      const videoId = _id;\n      try {\n        const { data } = await addComment(comment, userId, videoId, loggedInUsername);\n        if (data?.success) {\n          handleGetAllVideos();\n          handleCloseComment();\n        }\n      } catch (err) {\n        console.error(err);\n        updateSnackBarMessage('comment not added');\n      }\n    }\n  };\n\n  const handleEditComment = async (e: React.FormEvent<HTMLFormElement>): Promise<void> => {\n    e.preventDefault();\n    if (!comment) {\n      return;\n    }\n    if (watchVideo) {\n      const { userId, _id } = watchVideo;\n      const videoId = _id;\n      try {\n        const { data } = await editComment(comment, userId, videoId, commentId);\n        if (data?.success) {\n          handleGetAllVideos();\n          handleCloseComment();\n        }\n      } catch (err) {\n        console.error(err);\n        updateSnackBarMessage('comment not updated');\n      }\n    }\n  };\n  const handleOpenComment = (): void => {\n    setOpenComment(true);\n    const input = document.getElementById('commentInput');\n    if (input !== null) {\n      input.focus();\n      input.click();\n    }\n  };\n  const handleCloseComment = (): void => {\n    setOpenComment(false);\n    setComment('');\n    setEditComment(false);\n  };\n\n  return (\n    <>\n      <Box\n        sx={{\n          padding: '10px 60px',\n          borderRadius: '5px',\n          position: 'fixed',\n          minHeight: 80,\n          width: openComment ? '64%' : '5%',\n          bottom: 0,\n          right: '31%',\n        }}\n      >\n        {openComment ? (\n          <Box sx={{ background: 'white', width: '100%' }}>\n            <form onSubmit={isEditComment ? handleEditComment : handleAddComment} style={{ width: '100%' }}>\n              <TextareaAutosize\n                aria-label=\"minimum height\"\n                id=\"commentInput\"\n                minRows={2}\n                value={comment}\n                onChange={(e) => setComment(e.target.value)}\n                placeholder=\"add a comment\"\n                style={{ width: '100%', background: '#f9f9f9', padding: '5px', borderRadius: '5px', resize: 'none' }}\n              />\n              <Stack direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n                {' '}\n                <Button size=\"small\" type=\"submit\" color=\"primary\" variant=\"contained\">\n                  Comment\n                </Button>\n                <Button type=\"submit\" onClick={handleCloseComment} size=\"small\" color=\"primary\" variant=\"contained\">\n                  Cancel\n                </Button>\n              </Stack>\n            </form>\n          </Box>\n        ) : (\n          <Box sx={{ position: 'relative', width: '10%', background: 'green', float: 'right' }}>\n            <IconButton\n              sx={{\n                position: 'absolute',\n                marginTop: '-3rem',\n                boxShadow: ' 0px 0px 9px 0px rgba(0,0,0,0.75)',\n                right: '0%',\n                background: '#f9f9f9',\n                color: '#1976D2',\n                '&:hover': {\n                  background: '#1976D2',\n                  color: 'white',\n                },\n              }}\n              className={classes.addCommentBtn}\n              aria-label=\"update\"\n              onClick={handleOpenComment}\n              size=\"large\"\n            >\n              <ChatBubbleOutlineIcon\n                sx={{\n                  fontSize: '50px',\n                }}\n              />{' '}\n            </IconButton>\n            <Typography\n              sx={{\n                position: 'absolute',\n                marginTop: '1.5rem',\n                right: '0%',\n                color: '#1976D2',\n              }}\n            >\n              comment\n            </Typography>\n          </Box>\n        )}\n      </Box>\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IUpdateLikesResponse } from '../../interface/ApiResponse';\n\nexport const updateCommentLikes = async (\n  loggedInUsername: string,\n  userId: string,\n  videoId: string,\n  commentId?: string,\n  userImage?: string,\n): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/comment/add-like', { loggedInUsername, userId, videoId, userImage, commentId });\n};\n\nexport const updateCommentDislikes = async (\n  loggedInUsername: string,\n  userId: string,\n  videoId: string,\n  commentId?: string,\n): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/comment/add-dislike', { loggedInUsername, userId, videoId, commentId });\n};\n\nexport const removeCommentLikes = async (\n  userId: string,\n  videoId: string,\n  commentId?: string,\n): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/comment/remove-like', { userId, videoId, commentId });\n};\n\nexport const removeCommentDislikes = async (\n  userId: string,\n  videoId: string,\n  commentId?: string,\n): Promise<IUpdateLikesResponse> => {\n  return await axios.post('/comment/remove-dislike', { userId, videoId, commentId });\n};\n","import { Button, Box, TextareaAutosize, Stack, Typography, Avatar } from '@mui/material';\nimport { IComment, ILike } from '../../../../interface/VideoDetails';\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp';\nimport ThumbDownAltIcon from '@mui/icons-material/ThumbDownAlt';\nimport { useAllVideos } from '../../../../context/useAllVideosContext';\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '../../../../context/useAuthContext';\nimport useStyles from '../../useStyles';\nimport { useSnackBar } from '../../../../context/useSnackbarContext';\nimport IconButton from '@mui/material/IconButton';\nimport {\n  removeCommentLikes,\n  updateCommentLikes,\n  removeCommentDislikes,\n  updateCommentDislikes,\n} from '../../../../helpers/APICalls/commentLikes';\nimport { stringAvatar } from '../../../../pages/Profile/useStyles';\n\ninterface Props {\n  comment: IComment;\n}\n\nexport default function LikeAndDislikeComment({ comment }: Props): JSX.Element {\n  const classes = useStyles();\n  const { allVideos, watchVideo, handleGetAllVideos, handleSetWatchVideo } = useAllVideos();\n  const { loggedInUser } = useAuth();\n  const [likes, setLikes] = useState<ILike[] | undefined>([]);\n  const { updateSnackBarMessage } = useSnackBar();\n\n  //   useEffect(() => {\n  //     setLikes(watchVideo?.likes);\n  //     setdislikes(watchVideo?.dislikes);\n  //   }, [watchVideo]);\n\n  useEffect(() => {\n    if (allVideos) {\n      handleSetWatchVideo(watchVideo);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  const checkUserExist = (params: Array<ILike> | undefined): boolean => {\n    const filterUser = params?.filter((user) => user.userId === loggedInUser?.id);\n    if (filterUser?.length) {\n      return true;\n    }\n    return false;\n  };\n\n  const handleLike = async (): Promise<void> => {\n    if (loggedInUser) {\n      if (watchVideo) {\n        const { _id, userId } = watchVideo;\n        const commentId = comment._id;\n        const videoId = _id;\n        try {\n          if (checkUserExist(comment?.dislikes)) {\n            await handleDislike();\n          }\n\n          if (checkUserExist(comment.likes)) {\n            const { data } = await removeCommentLikes(userId, videoId, commentId);\n            if (data?.success) {\n              return handleGetAllVideos();\n            }\n          } else {\n            const { data } = await updateCommentLikes(\n              loggedInUser.username,\n              userId,\n              videoId,\n              commentId,\n              loggedInUser?.userImage,\n            );\n            if (data?.success) {\n              return handleGetAllVideos();\n            }\n          }\n        } catch (err) {\n          console.error(err);\n          updateSnackBarMessage('like not updated');\n        }\n      }\n    }\n  };\n\n  const handleDislike = async (): Promise<void> => {\n    if (loggedInUser) {\n      if (watchVideo) {\n        const { _id, userId } = watchVideo;\n        const videoId = _id;\n        const commentId = comment._id;\n\n        try {\n          if (checkUserExist(comment.likes)) {\n            await handleLike();\n          }\n\n          if (checkUserExist(comment.dislikes)) {\n            const { data } = await removeCommentDislikes(userId, videoId, commentId);\n            if (data?.success) {\n              return handleGetAllVideos();\n            }\n          } else {\n            const { data } = await updateCommentDislikes(loggedInUser.username, userId, videoId, commentId);\n            if (data?.success) {\n              return handleGetAllVideos();\n            }\n          }\n        } catch (err) {\n          console.error(err);\n          updateSnackBarMessage('dislike not updated');\n        }\n      }\n    }\n  };\n  return (\n    <>\n      <Stack direction=\"row\" spacing={1}>\n        <Stack direction=\"row\" alignItems=\"center\">\n          <IconButton\n            aria-label=\"update\"\n            // color=\"primary\"\n            onClick={handleLike}\n            size=\"small\"\n          >\n            <ThumbUpIcon sx={{ fontSize: '1.2rem', color: checkUserExist(comment.likes) ? 'green' : '' }} />{' '}\n          </IconButton>{' '}\n          <Typography>{comment.likes?.length !== 0 && comment.likes?.length}</Typography>\n        </Stack>\n        <Stack direction=\"row\" alignItems=\"center\">\n          <IconButton\n            aria-label=\"update\"\n            // color=\"primary\"\n            onClick={handleDislike}\n            size=\"small\"\n          >\n            <ThumbDownAltIcon sx={{ fontSize: '1.2rem', color: checkUserExist(comment.dislikes) ? 'red' : '' }} />\n          </IconButton>\n          <Typography>{comment.dislikes?.length !== 0 && comment.dislikes?.length}</Typography>\n        </Stack>\n      </Stack>\n    </>\n  );\n}\n","import { Stack } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { useAllVideos } from '../../../../context/useAllVideosContext';\nimport { useEffect } from 'react';\nimport useStyles from '../../useStyles';\nimport IconButton from '@mui/material/IconButton';\nimport { deleteComment } from '../../../../helpers/APICalls/commentApis';\nimport { useSnackBar } from '../../../../context/useSnackbarContext';\n\ninterface Props {\n  commentId: string | undefined;\n  setOpenComment: React.Dispatch<boolean>;\n  setEditComment: React.Dispatch<boolean>;\n  setComment: React.Dispatch<string>;\n  comment: string;\n  setCommentId: React.Dispatch<string>;\n}\n\nexport default function EditAndDeleteComment({\n  commentId,\n  setOpenComment,\n  setEditComment,\n  setComment,\n  comment,\n  setCommentId,\n}: Props): JSX.Element {\n  const classes = useStyles();\n  const { allVideos, watchVideo, handleGetAllVideos, handleSetWatchVideo } = useAllVideos();\n  const { updateSnackBarMessage } = useSnackBar();\n\n  useEffect(() => {\n    if (allVideos) {\n      handleSetWatchVideo(watchVideo);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  const handleEditComment = (): void => {\n    setComment(comment);\n    setOpenComment(true);\n    setEditComment(true);\n    if (commentId) setCommentId(commentId);\n  };\n\n  const handleDeleteComment = async (): Promise<void> => {\n    if (watchVideo) {\n      const { userId, _id } = watchVideo;\n      const videoId = _id;\n      try {\n        const { data } = await deleteComment({ commentId, userId, videoId });\n        if (data?.success) {\n          handleGetAllVideos();\n        }\n      } catch (err) {\n        console.error(err);\n        updateSnackBarMessage('Comment not deleted');\n      }\n    }\n  };\n  return (\n    <>\n      <Stack direction=\"row\" spacing={1}>\n        {' '}\n        <IconButton aria-label=\"update\" color=\"primary\" onClick={handleEditComment} size=\"small\">\n          <EditIcon sx={{ fontSize: '1.2rem' }} />{' '}\n        </IconButton>\n        <IconButton\n          aria-label=\"update\"\n          // color=\"primary\"\n          onClick={handleDeleteComment}\n          size=\"small\"\n        >\n          <DeleteIcon sx={{ fontSize: '1.2rem', color: 'red' }} />{' '}\n        </IconButton>\n      </Stack>\n    </>\n  );\n}\n","import { Box, Stack, Typography, Avatar } from '@mui/material';\nimport moment from 'moment';\nimport { useAllVideos } from '../../../context/useAllVideosContext';\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '../../../context/useAuthContext';\nimport useStyles from '../useStyles';\nimport { useUserDetails } from '../../../context/useUserContext';\nimport { stringAvatar } from '../useStyles';\nimport AddComment from './AddComment/AddComment';\nimport LikeAndDislikeComment from './LikeAndDislikeComment/LikeAndDislikeComment';\nimport EditAndDeleteComment from './EditAndDeleteComment/EditAndDeleteComment';\nimport { useHistory } from 'react-router';\nimport { Paper } from '@mui/material';\n\ninterface Props {\n  displayCommentBtn: boolean;\n}\n\nexport default function Comments({ displayCommentBtn }: Props): JSX.Element {\n  const classes = useStyles();\n  const { allVideos, watchVideo, handleSetWatchVideo } = useAllVideos();\n  const { loggedInUser } = useAuth();\n  const [comment, setComment] = useState('');\n  const { handleGetUserDetails } = useUserDetails();\n  const [openComment, setOpenComment] = useState(false);\n  const [commentId, setCommentId] = useState('');\n  const history = useHistory();\n  const [isEditComment, setEditComment] = useState(false);\n\n  useEffect(() => {\n    if (allVideos) {\n      handleSetWatchVideo(watchVideo);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  const handleDisplayUserProfile = (): void => {\n    if (watchVideo) {\n      const user = { username: watchVideo.username, id: watchVideo.userId, email: 'undefined' };\n      handleGetUserDetails(user);\n      history.push(`/profile/${watchVideo.username}`);\n    }\n  };\n\n  return (\n    <>\n      <Box style={{ minHeight: '100px', paddingTop: '20px', whiteSpace: 'nowrap' }}>\n        <Typography\n          sx={{\n            margin: '10px',\n            marginLeft: {\n              xs: '2rem',\n              sm: '2rem',\n              md: '9rem',\n              lg: '9rem',\n              xl: '9rem',\n            },\n          }}\n        >\n          Comments\n        </Typography>\n        <Box\n          sx={{\n            marginLeft: {\n              xs: '0rem',\n              sm: '0rem',\n              md: '5rem',\n              lg: '5rem',\n              xl: '5rem',\n            },\n            padding: '40px 0',\n          }}\n        >\n          {watchVideo?.comments?.length ? (\n            watchVideo?.comments?.map((comment) => (\n              <Box key={comment._id}>\n                <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n                  <Avatar\n                    style={{ cursor: 'pointer', border: '1px solid #1976D2' }}\n                    onClick={handleDisplayUserProfile}\n                    {...stringAvatar(comment.username.toUpperCase(), 45, 45)}\n                    src={`/image/get-image/${comment.userId}`}\n                  />\n                  <Typography style={{ cursor: 'pointer' }} color=\"primary\" onClick={handleDisplayUserProfile}>\n                    {comment.username}\n                  </Typography>\n                  <Typography style={{ fontSize: '0.8rem' }}>\n                    {moment(comment.commentDate).format('MMMM Do YYYY')}\n                  </Typography>\n                </Stack>\n                <Stack\n                  sx={{\n                    marginLeft: {\n                      xs: '3rem',\n                      sm: '3rem',\n                      md: '4rem',\n                      lg: '4rem',\n                      xl: '4rem',\n                    },\n                  }}\n                >\n                  <Paper\n                    sx={{\n                      padding: '10px',\n                      borderRadius: '5px',\n                      background: 'white',\n                      minHeight: 80,\n                      width: { xs: '100%', sm: '90%' },\n                      overflowWrap: 'break-word',\n                      whiteSpace: 'pre-wrap',\n                    }}\n                  >\n                    <Typography>{comment.comment}</Typography>\n                  </Paper>\n                  <Stack\n                    sx={{\n                      marginLeft: {\n                        xs: '2px',\n                        sm: '2px',\n                        md: '5px',\n                        lg: '5px',\n                        xl: '5px',\n                      },\n                      marginTop: '5px',\n                    }}\n                    direction=\"row\"\n                    spacing={3}\n                  >\n                    <LikeAndDislikeComment comment={comment} />\n                    {loggedInUser?.id === comment.userId && (\n                      <EditAndDeleteComment\n                        setOpenComment={setOpenComment}\n                        commentId={comment._id}\n                        comment={comment.comment}\n                        setEditComment={setEditComment}\n                        setComment={setComment}\n                        setCommentId={setCommentId}\n                      />\n                    )}\n                  </Stack>\n                </Stack>\n              </Box>\n            ))\n          ) : (\n            <Typography align=\"center\">No comment for this video</Typography>\n          )}{' '}\n          {!displayCommentBtn && (\n            <AddComment\n              openComment={openComment}\n              isEditComment={isEditComment}\n              setEditComment={setEditComment}\n              comment={comment}\n              setOpenComment={setOpenComment}\n              setComment={setComment}\n              commentId={commentId}\n            />\n          )}\n        </Box>\n      </Box>\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IViewerResponse } from '../../interface/ApiResponse';\n\nexport const addViewer = async (\n  loggedInUsername: string | undefined,\n  userId: string | undefined,\n  videoId: string | undefined,\n): Promise<IViewerResponse> => {\n  return await axios.post('/views/add-viewer', { loggedInUsername, userId, videoId });\n};\n","import { Stack, Typography } from '@mui/material';\nimport { IViews } from '../../../interface/VideoDetails';\nimport { useAllVideos } from '../../../context/useAllVideosContext';\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '../../../context/useAuthContext';\nimport RemoveRedEyeIcon from '@mui/icons-material/RemoveRedEye';\nimport { addViewer } from '../../../helpers/APICalls/viewsApi';\nimport { useSnackBar } from '../../../context/useSnackbarContext';\n\nexport default function Viewers(): JSX.Element {\n  const { watchVideo, handleGetAllVideos, handleSetWatchVideo, allVideos } = useAllVideos();\n  const { loggedInUser } = useAuth();\n  const { updateSnackBarMessage } = useSnackBar();\n  const [viewers, setViewers] = useState<Array<IViews>>([]);\n\n  const handleAddViewer = async (): Promise<void> => {\n    if (loggedInUser) {\n      try {\n        const { data } = await addViewer(loggedInUser?.username, watchVideo?.userId, watchVideo?._id);\n        if (data?.success) {\n          handleGetAllVideos();\n        }\n      } catch (err) {\n        console.error(err);\n        updateSnackBarMessage('viewer not added');\n      }\n    }\n  };\n\n  const checkUser = (): boolean => {\n    if (watchVideo?.views) {\n      const filterUser = watchVideo.views.filter((user) => user.userId === loggedInUser?.id);\n      if (filterUser.length) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    if (allVideos) {\n      handleSetWatchVideo(watchVideo);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  useEffect(() => {\n    if (!checkUser()) {\n      handleAddViewer();\n    }\n    if (watchVideo?.views) {\n      setViewers(watchVideo.views);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [watchVideo]);\n\n  return (\n    <>\n      <Stack direction=\"row\" spacing={1}>\n        <Typography>{viewers.length}</Typography>\n        <RemoveRedEyeIcon />\n        <Typography>views</Typography>\n      </Stack>\n    </>\n  );\n}\n","import { Grid, Box, Container, Stack, Avatar, Typography, useMediaQuery, useTheme } from '@mui/material';\nimport { useAllVideos } from '../../context/useAllVideosContext';\nimport VideoPlayer from '../../components/VideoPlayer/VideosPlayer';\nimport VideosList from '../../components/VideosList/VideosList';\nimport { useEffect, useState } from 'react';\nimport { stringAvatar } from './useStyles';\nimport { useUserDetails } from '../../context/useUserContext';\nimport useStyles from './useStyles';\nimport Likes from './Likes/Likes';\nimport Comments from './Comments/Comments';\nimport Viewers from './Viewers/Viewers';\nimport moment from 'moment';\nimport TrackVisibility from 'react-on-screen';\nimport { useHistory } from 'react-router';\n\nexport default function Watch(): JSX.Element {\n  const classes = useStyles();\n  const { handleGetUserDetails } = useUserDetails();\n  const { allVideos, watchVideo, handleGetAllVideos, handleSetWatchVideo } = useAllVideos();\n  const [videoSource, setVideoSource] = useState<string | undefined>(undefined);\n  const [videoDuration, setVideoDuration] = useState<string | undefined>(undefined);\n  const [displayCommentBtn, setDisplayCommentBtn] = useState(false);\n  const theme = useTheme();\n  const isSmallOrLess = useMediaQuery(theme.breakpoints.up('sm'));\n  const history = useHistory();\n  useEffect(() => {\n    if (watchVideo?.videoSource.includes('youtube')) {\n      setVideoSource(watchVideo?.videoSource + '?autoplay=1');\n    } else {\n      setVideoSource(watchVideo?.videoSource);\n    }\n    window.scrollTo(0, 0);\n  }, [watchVideo]);\n\n  const videoPlayerOptions = {\n    width: '850',\n    height: isSmallOrLess ? '480' : '480',\n    autoPlay: true,\n    component: 'Watch',\n    classes,\n  };\n\n  const videosListPlayerOptions = {\n    width: '300',\n    height: '200',\n    autoPlay: false,\n    displayDetails: false,\n    component: 'Watch',\n    classes,\n  };\n\n  const handleDisplayUserProfile = async (): Promise<void> => {\n    if (watchVideo) {\n      const user = { username: watchVideo.username, id: watchVideo.userId, email: 'undefined' };\n      await handleGetUserDetails(user);\n      history.push(`/profile/${watchVideo.username}`);\n    }\n  };\n  return (\n    <>\n      <Grid container style={{ paddingTop: '30px', position: 'relative' }} className=\"viewed-video-container\">\n        <Grid\n          item\n          xs={12}\n          sm={12}\n          md={9}\n          className=\"viewed-video-box\"\n          sx={{ paddingBottom: 5, paddingLeft: '10px', paddingRight: { xs: '10px', sm: '10px', md: '0' } }}\n        >\n          <Box display=\"flex\" flexDirection=\"column\">\n            <Box display=\"flex\" justifyContent=\"center\" sx={{ background: 'black' }}>\n              {\n                <VideoPlayer\n                  videoSource={videoSource}\n                  videoPlayerOptions={videoPlayerOptions}\n                  setVideoDuration={setVideoDuration}\n                />\n              }{' '}\n              <Box style={{ paddingTop: '7rem', background: 'green' }}>\n                {' '}\n                <TrackVisibility>\n                  {({ isVisible }) => {\n                    setDisplayCommentBtn(isVisible);\n                  }}\n                </TrackVisibility>\n              </Box>\n            </Box>\n\n            <Container sx={{ borderBottom: '2px solid #f9f9f9', background: 'white' }}>\n              <Box sx={{ padding: '10px 0', whiteSpace: 'nowrap' }}>\n                <Stack direction=\"row\" alignItems=\"center\">\n                  <Stack direction=\"row\" spacing={1} style={{ flexGrow: 1 }} alignItems=\"center\">\n                    <Typography variant=\"h5\">{watchVideo?.videoTitle}</Typography>{' '}\n                    {watchVideo?.artist && <Typography variant=\"h5\">-</Typography>}\n                    <Typography variant=\"h5\">{watchVideo?.artist}</Typography>{' '}\n                  </Stack>\n                  <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n                    {' '}\n                    <Typography\n                      color=\"primary\"\n                      sx={{ cursor: 'pointer' }}\n                      onClick={handleDisplayUserProfile}\n                      variant=\"h5\"\n                    >\n                      {watchVideo?.username}\n                    </Typography>\n                    <Avatar\n                      style={{ cursor: 'pointer', border: '1px solid #1976D2' }}\n                      onClick={handleDisplayUserProfile}\n                      {...stringAvatar(watchVideo ? watchVideo.username.toUpperCase() : '', 50, 50)}\n                      src={`/image/get-image/${watchVideo?.userId}`}\n                    />\n                  </Stack>\n                </Stack>\n                <Box sx={{ margin: '5px auto' }}>\n                  <Typography>{watchVideo?.videoDescription}</Typography>\n                </Box>\n                <Stack direction=\"row\" alignItems=\"center\" sx={{ margin: '5px auto' }}>\n                  <Box display=\"flex\" alignItems=\"center\" style={{ flexGrow: 1 }}>\n                    <Stack direction=\"row\" spacing={5} alignItems=\"center\">\n                      {' '}\n                      <Likes />\n                      <Viewers />\n                    </Stack>\n                  </Box>{' '}\n                  <Box>\n                    <Stack direction=\"row\" spacing={5} alignItems=\"center\">\n                      <Typography style={{ fontSize: '0.9rem' }}>\n                        {moment(watchVideo?.datePosted).format('MMMM Do YYYY')}\n                      </Typography>\n                      <Typography>{watchVideo?.videoCategory}</Typography>\n                    </Stack>\n                  </Box>\n                </Stack>\n              </Box>{' '}\n            </Container>\n\n            <Container sx={{ padding: 0 }}>\n              <Grid container sx={{ position: 'relative' }}>\n                <Grid item xs={12} sm={8} md={12} sx={{}}>\n                  {' '}\n                  <Comments displayCommentBtn={displayCommentBtn} />\n                </Grid>\n                <Grid\n                  item\n                  xs={4}\n                  sx={{\n                    overflowY: 'scroll',\n                    top: 0,\n                    bottom: 0,\n                    // left: 0,\n                    right: -17,\n                    position: 'absolute',\n                    display: { sm: 'block', xs: 'none', md: 'none' },\n                    paddingTop: '0',\n                  }}\n                >\n                  {' '}\n                  <VideosList videoPlayerOptions={videosListPlayerOptions} videos={allVideos} />\n                </Grid>\n              </Grid>\n            </Container>\n          </Box>\n        </Grid>\n\n        <Grid\n          item\n          md={3}\n          sx={{\n            position: 'relative',\n            display: { sm: 'none', xs: 'none', md: 'block' },\n            overflow: 'hidden',\n          }}\n          className=\"all-video-container\"\n        >\n          <Box\n            sx={{\n              overflowY: 'scroll',\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: -17,\n              position: 'absolute',\n              padding: '10px',\n              paddingTop: '0',\n            }}\n          >\n            <VideosList videoPlayerOptions={videosListPlayerOptions} videos={allVideos} />\n          </Box>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IImageResponse, IResponse } from '../../interface/ApiResponse';\nimport { IFile } from '../../interface/File';\n\nexport const uploadImage = async (image: any): Promise<IResponse> => {\n  const formData = new FormData();\n  formData.append('image', image);\n  return axios.post('/image/upload-image', formData, { headers: { 'Content-Type': 'multipart/form-data' } });\n};\n\nexport const getImageKey = async (userId: string): Promise<IImageResponse> => {\n  return axios.get(`/image/get-key/${userId}`);\n};\n\nexport const deleteImage = async (): Promise<IResponse> => {\n  return axios.delete('/image/delete-image');\n};\n","import { Box, Button, Paper, CircularProgress } from '@mui/material';\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\nimport SaveIcon from '@mui/icons-material/Save';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Avatar from '@mui/material/Avatar';\nimport useStyles from '../useStyles';\nimport { useState } from 'react';\nimport { stringAvatar } from '../useStyles';\nimport { IUserDetails } from '../../../interface/User';\nimport { uploadImage, deleteImage } from '../../../helpers/APICalls/imageApis';\nimport DriveFolderUploadIcon from '@mui/icons-material/DriveFolderUpload';\nimport { IFile } from '../../../interface/File';\nimport { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { useSnackBar } from '../../../context/useSnackbarContext';\nimport { useUserDetails } from '../../../context/useUserContext';\ninterface Props {\n  user: IUserDetails;\n  isUser: boolean;\n}\n\nexport default function ProfilePhoto({ user, isUser }: Props): JSX.Element {\n  const classes = useStyles();\n  const { userDetails, handleGetUserDetails } = useUserDetails();\n  const [image, setImage] = useState<IFile | null>(null);\n  const [file, setFiles] = useState<string | undefined>(undefined);\n  const [openUpdateForm, setOpenUpdateForm] = useState(false);\n  const [uploadStatus, setUploadStatus] = useState(false);\n  const { updateSnackBarMessage } = useSnackBar();\n  const [isSaving, setIsSaving] = useState(false);\n\n  const onDrop = useCallback(\n    (acceptedFile) => {\n      setImage(acceptedFile[0]);\n      setFiles(URL.createObjectURL(acceptedFile[0]));\n    },\n    [setImage],\n  );\n  const { getRootProps, getInputProps, isDragReject } = useDropzone({\n    onDrop,\n    multiple: false,\n    accept: 'image/jpeg, image/png',\n  });\n\n  const handleUserImage = (): string => {\n    if (file === undefined) {\n      if (user?.userImage !== undefined) {\n        return `/image/download-image/${user.userImage}`;\n      } else {\n        return '';\n      }\n    } else {\n      return file;\n    }\n  };\n\n  const handleSaveImage = async (): Promise<void> => {\n    setUploadStatus(true);\n    setIsSaving(true);\n    try {\n      const { data } = await uploadImage(image);\n      if (data) {\n        if (data.success) {\n          handleGetUserDetails({ username: user.username, id: user.userId, email: 'undefined' });\n\n          setFiles(undefined);\n          setOpenUpdateForm(false);\n        } else if (data?.error) {\n          updateSnackBarMessage(data?.error?.message);\n        }\n      }\n    } catch (err) {\n      console.error(err);\n      updateSnackBarMessage('Unexpected error! Please try again');\n    }\n    setUploadStatus(false);\n    setIsSaving(false);\n  };\n  const handleDeleteImage = async (): Promise<void> => {\n    setUploadStatus(true);\n    setFiles(undefined);\n    setIsSaving(true);\n\n    try {\n      const { data } = await deleteImage();\n      if (data) {\n        if (data.success) {\n          handleGetUserDetails({ username: user.username, id: user.userId, email: 'undefined' });\n\n          setFiles(undefined);\n          setOpenUpdateForm(false);\n        } else if (data?.error) {\n          updateSnackBarMessage(data?.error?.message);\n        }\n      }\n    } catch (err) {\n      console.error(err);\n      updateSnackBarMessage('Unexpected error! Please try again');\n    }\n    setUploadStatus(false);\n    setIsSaving(false);\n  };\n\n  return (\n    <>\n      {openUpdateForm && (\n        <Box\n          onClick={() => setOpenUpdateForm(false)}\n          sx={{ position: 'fixed', width: '100%', height: '100vh', left: 0, top: 0 }}\n        ></Box>\n      )}\n      <Box className={classes.bottomSpace} sx={{ position: 'relative' }}>\n        <Avatar {...stringAvatar(user.username.toUpperCase(), 100, 100)} src={handleUserImage()} />\n        {!openUpdateForm ? (\n          isUser && (\n            <IconButton\n              sx={{\n                position: 'absolute',\n                right: '10%',\n                top: '80%',\n                background: 'green',\n                '&:hover': {\n                  background: 'green',\n                },\n              }}\n              aria-label=\"update\"\n              // color=\"secondary\"\n              onClick={() => setOpenUpdateForm(true)}\n            >\n              <DriveFolderUploadIcon sx={{ color: 'white' }} />\n            </IconButton>\n          )\n        ) : (\n          <Paper\n            sx={{\n              position: 'absolute',\n              whiteSpace: 'nowrap',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              padding: '10px',\n              margin: '0 auto',\n            }}\n          >\n            {file === undefined ? (\n              <div {...getRootProps()}>\n                <input {...getInputProps()} />\n                {isDragReject ? (\n                  <Box>Drop </Box>\n                ) : (\n                  <Button sx={{ marginBottom: '10px' }} startIcon={<AddAPhotoIcon />} variant=\"contained\" color=\"info\">\n                    browse\n                  </Button>\n                )}\n              </div>\n            ) : (\n              <Button\n                sx={{ marginBottom: '10px' }}\n                startIcon={<SaveIcon />}\n                variant=\"contained\"\n                color=\"success\"\n                type=\"submit\"\n                onClick={handleSaveImage}\n              >\n                {isSaving ? <CircularProgress style={{ fontSize: 0, width: '20px', height: '20px' }} /> : 'Save'}\n              </Button>\n            )}\n            <Button onClick={handleDeleteImage} startIcon={<DeleteIcon />} variant=\"contained\" color=\"secondary\">\n              Delete\n            </Button>\n          </Paper>\n        )}\n      </Box>\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IResponse } from '../../interface/ApiResponse';\n\nexport const follow = async (loggedInUsername?: string, userId?: string): Promise<IResponse> => {\n  return await axios.post('/follow/add-follower', { loggedInUsername, userId });\n};\n\nexport const unfollow = async (loggedInUsername?: string, userId?: string): Promise<IResponse> => {\n  return await axios.post('/follow/remove-follower', { loggedInUsername, userId });\n};\n","import { useEffect, useState } from 'react';\nimport { Box, Button } from '@mui/material';\nimport { useAuth } from '../../../context/useAuthContext';\nimport { useUserDetails } from '../../../context/useUserContext';\nimport { useAllVideos } from '../../../context/useAllVideosContext';\nimport { follow, unfollow } from '../../../helpers/APICalls/followApis';\nimport { useSnackBar } from '../../../context/useSnackbarContext';\ninterface Props {\n  isUser: boolean;\n}\nexport default function Follow({ isUser }: Props): JSX.Element {\n  const { loggedInUser } = useAuth();\n  const { userDetails, handleGetUserDetails } = useUserDetails();\n  const { handleGetAllVideos } = useAllVideos();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [userFollowing, setUserFollowing] = useState(false);\n  const { updateSnackBarMessage } = useSnackBar();\n\n  useEffect(() => {\n    if (loggedInUser && userDetails) {\n      const { followers } = userDetails;\n      const filterFollower = followers.filter((user) => user.userId === loggedInUser.id);\n      if (filterFollower.length) {\n        setUserFollowing(true);\n      } else {\n        setUserFollowing(false);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userDetails]);\n\n  const handleFollower = async (): Promise<void> => {\n    setIsSubmitting(true);\n\n    if (userDetails) {\n      const loggedInUsername = loggedInUser?.username;\n      const userId = userDetails?.userId;\n      const username = userDetails?.username;\n\n      if (userFollowing) {\n        try {\n          const { data } = await unfollow(loggedInUsername, userId);\n          if (data?.success) {\n            handleGetUserDetails({ username, id: userId, email: 'undefined' });\n          } else {\n            updateSnackBarMessage('something went wrong,please try again');\n          }\n        } catch (err) {\n          console.error(err);\n          updateSnackBarMessage('something went wrong,please try again');\n        }\n      } else {\n        try {\n          const { data } = await follow(loggedInUsername, userId);\n          if (data?.success) {\n            handleGetUserDetails({ username, id: userId, email: 'undefined' });\n          } else {\n            updateSnackBarMessage('something went wrong,please try again');\n          }\n        } catch (err) {\n          console.error(err);\n          updateSnackBarMessage('something went wrong,please try again');\n        }\n      }\n    }\n    setIsSubmitting(false);\n  };\n\n  return (\n    <>\n      <Box style={{ marginBottom: 30 }}>\n        {!isUser && (\n          <Button\n            onClick={handleFollower}\n            disabled={isSubmitting}\n            style={{ color: 'white' }}\n            color=\"secondary\"\n            variant=\"contained\"\n          >\n            {userFollowing ? 'unfollow' : 'follow'}\n          </Button>\n        )}\n      </Box>\n    </>\n  );\n}\n","import axios from 'axios';\nimport { IResponse } from '../../interface/ApiResponse';\n\nexport const updateAboutUser = async (aboutUser: string | undefined): Promise<IResponse> => {\n  return await axios.post('/about/update-about', { aboutUser });\n};\n","import { useEffect, useState } from 'react';\nimport { Box, Button, CircularProgress, TextareaAutosize, Typography, Stack } from '@mui/material';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { useAuth } from '../../../context/useAuthContext';\nimport { useUserDetails } from '../../../context/useUserContext';\nimport { IVideoDetails } from '../../../interface/VideoDetails';\nimport { updateAboutUser } from '../../../helpers/APICalls/aboutApis';\nimport IconButton from '@mui/material/IconButton';\nimport { useSnackBar } from '../../../context/useSnackbarContext';\nimport useStyles from '../useStyles';\n\ninterface Props {\n  isUser: boolean;\n}\n\nexport default function AboutUser({ isUser }: Props): JSX.Element {\n  const { loggedInUser } = useAuth();\n  const { userDetails, handleGetUserDetails } = useUserDetails();\n  const classes = useStyles();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [userFollowing, setUserFollowing] = useState(false);\n  const [aboutUser, setAboutUser] = useState(userDetails?.aboutUser);\n  const [edit, setEdit] = useState(true);\n  const { updateSnackBarMessage } = useSnackBar();\n\n  useEffect(() => {\n    if (userDetails) {\n      setAboutUser(userDetails?.aboutUser);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userDetails]);\n\n  const handleSetAboutUser = async (): Promise<void> => {\n    setIsSubmitting(true);\n\n    if (userDetails) {\n      const userId = userDetails?.userId;\n      const username = userDetails?.username;\n      try {\n        const { data } = await updateAboutUser(aboutUser);\n        if (data?.success) {\n          await handleGetUserDetails({ username, id: userId, email: 'undefined' });\n        } else {\n          updateSnackBarMessage('something went wrong,please try again');\n        }\n\n        setEdit(true);\n      } catch (err) {\n        console.error(err);\n        updateSnackBarMessage('something went wrong,please try again');\n      }\n    }\n    setIsSubmitting(false);\n  };\n\n  return (\n    <>\n      <Box\n        className={classes.bottomSpace}\n        display=\"flex\"\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        justifyContent=\"space-evenly\"\n        style={{ width: '100%' }}\n      >\n        <Typography style={{ margin: '5px' }} variant=\"h6\">\n          About\n        </Typography>\n        <Box style={{ width: '90%', position: 'relative' }}>\n          {edit && isUser && (\n            <IconButton\n              sx={{ position: 'absolute', top: '-13%', right: '0%' }}\n              aria-label=\"update\"\n              color=\"primary\"\n              onClick={() => setEdit(false)}\n            >\n              <EditIcon sx={{ color: 'white' }} />\n            </IconButton>\n          )}\n          {edit ? (\n            <Box\n              style={{\n                width: '100%',\n                minHeight: 150,\n                borderRadius: '5px',\n                padding: ' 10px',\n                overflowWrap: 'break-word',\n              }}\n            >\n              {aboutUser ? (\n                <Typography align=\"center\">{aboutUser}</Typography>\n              ) : (\n                isUser && (\n                  <Typography align=\"center\" variant=\"subtitle1\">\n                    write something about yourself\n                  </Typography>\n                )\n              )}\n            </Box>\n          ) : (\n            <Box style={{ width: '100%' }}>\n              <TextareaAutosize\n                aria-label=\"minimum height\"\n                onChange={(e) => setAboutUser(e.target.value.slice(0, 100))}\n                value={aboutUser}\n                minRows={4}\n                style={{ width: '100%', borderRadius: '5px', resize: 'none' }}\n              />\n              <Stack direction=\"row\" justifyContent=\"center\" spacing={2} sx={{ padding: '15px 10px' }}>\n                <Button\n                  disabled={isSubmitting}\n                  style={{ width: '87px' }}\n                  onClick={handleSetAboutUser}\n                  variant=\"contained\"\n                >\n                  {isSubmitting ? <CircularProgress style={{ fontSize: 0, width: '20px', height: '20px' }} /> : 'save'}\n                </Button>\n                <Button\n                  onClick={() => {\n                    setEdit(true);\n                    setAboutUser(userDetails?.aboutUser);\n                  }}\n                  color=\"primary\"\n                  variant=\"contained\"\n                >\n                  cancel\n                </Button>\n              </Stack>\n            </Box>\n          )}\n        </Box>\n      </Box>\n    </>\n  );\n}\n","import { Typography, Grid, Box } from '@mui/material';\nimport useStyles from './useStyles';\nimport { useAuth } from '../../context/useAuthContext';\nimport { useEffect, useState } from 'react';\nimport { useUserDetails } from '../../context/useUserContext';\nimport VideosList from '../../components/VideosList/VideosList';\nimport { IUserDetails } from '../../interface/User';\nimport ProfilePhoto from './ProfilePhoto/ProfilePhoto';\nimport { useAllVideos } from '../../context/useAllVideosContext';\nimport { IVideoDetails } from '../../interface/VideoDetails';\n\nimport Follow from './Follow/Follow';\nimport AboutUser from './AboutUser/AboutUser';\nimport { useHistory } from 'react-router';\n\nexport default function Profile(): JSX.Element {\n  const classes = useStyles();\n  const { allVideos } = useAllVideos();\n  const { loggedInUser } = useAuth();\n  const { userDetails, handleGetUserDetails } = useUserDetails();\n  const [userHasVideos, setUserHasVideos] = useState(false);\n  const [isUser, setIsUser] = useState(false);\n  const [user, setUser] = useState<IUserDetails>({\n    username: '',\n    userId: '',\n    email: '',\n    aboutUser: '',\n    views: [],\n    followers: [],\n    userImage: '',\n    videos: [],\n  });\n  const videoPlayerOptions = {\n    width: '500',\n    height: '280',\n    autoPlay: false,\n    displayDetails: true,\n    component: 'Profile',\n    classes,\n  };\n\n  useEffect(() => {\n    if (loggedInUser && userDetails) {\n      setUser(userDetails);\n      if (loggedInUser.id === userDetails.userId) {\n        setIsUser(true);\n      } else {\n        setIsUser(false);\n      }\n    }\n  }, [loggedInUser, userDetails]);\n\n  useEffect(() => {\n    if (allVideos && userDetails) {\n      handleGetUserDetails({ username: userDetails?.username, id: userDetails?.userId, email: 'undefined' });\n    }\n    if (userDetails?.videos.length) {\n      setUserHasVideos(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allVideos]);\n\n  return (\n    <>\n      <Grid\n        container\n        sx={{\n          height: { md: '90vh', xs: '100vh', sm: '100vh' },\n          overflow: { md: 'hidden', xs: 'scroll', sm: 'scroll' },\n        }}\n      >\n        <Grid\n          item\n          className={classes.profile}\n          sx={{ position: 'relative', paddingTop: 3 }}\n          bgcolor=\"primary.main\"\n          xs={12}\n          sm={12}\n          md={4}\n        >\n          <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n            <ProfilePhoto isUser={isUser} user={user} />\n\n            <Box className={classes.bottomSpace}>\n              <Typography variant=\"h5\">{user.username}</Typography>\n            </Box>\n\n            <Box sx={{ marginBottom: '20px', width: '100%' }} display=\"flex\" justifyContent=\"space-evenly\">\n              <Typography variant=\"subtitle1\">Followers: &nbsp; {userDetails?.followers.length}</Typography>{' '}\n              <Typography variant=\"subtitle1\">Posts: &nbsp;{userDetails?.videos.length}</Typography>{' '}\n              <Typography variant=\"subtitle1\">Views: &nbsp;{userDetails?.views.length}</Typography>\n            </Box>\n            <Follow isUser={isUser} />\n            <AboutUser isUser={isUser} />\n            <Box>\n              <Typography variant=\"subtitle1\" align=\"center\">\n                email: {user.email}\n              </Typography>\n            </Box>\n          </Box>\n        </Grid>\n        <Grid\n          item\n          className={classes.videos}\n          xs={12}\n          sm={12}\n          md={8}\n          sx={{\n            position: 'relative',\n          }}\n        >\n          <Box\n            sx={{\n              paddingTop: 5,\n              padding: { xs: '1rem', sm: '1rem' },\n              overflowY: 'scroll',\n              top: 0,\n              bottom: 0,\n              left: 0,\n              right: -17,\n              position: { md: 'absolute', xs: 'relative', sm: 'relative' },\n            }}\n          >\n            {userHasVideos ? (\n              <VideosList videos={userDetails?.videos} videoPlayerOptions={videoPlayerOptions} />\n            ) : (\n              <Box style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '80vh' }}>\n                <Typography>This account has no videos </Typography>\n              </Box>\n            )}\n          </Box>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  dropBoxContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    height: '22rem',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column',\n    paddingTop: '2rem',\n  },\n\n  dropBox: {\n    backgroundColor: '#fff',\n    width: '80%',\n    boxShadow: '24',\n    padding: 4,\n  },\n  imageBox: {\n    height: '16rem',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    border: '2px dashed #3a8dff',\n  },\n  imageBoxAccept: {\n    height: '16rem',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    border: '2px dashed green',\n  },\n  imageBoxReject: {\n    height: '16rem',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    border: '2px dashed red',\n  },\n  uploadImage: {\n    height: '3rem',\n    width: '3rem',\n    margin: '2rem',\n  },\n  typographyBox: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  typography: {\n    textAlign: 'center',\n    cursor: 'pointer',\n  },\n  typographySpan: {\n    color: '#3a8dff',\n  },\n});\n\nexport default useStyles;\n","export default __webpack_public_path__ + \"static/media/upload.bbb5d070.png\";","import { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport useStyles from './useStyles';\nimport Image from '../../../../Images/upload.png';\nimport { IFile } from '../../../../interface/File';\nimport { Paper, Typography, Grid } from '@mui/material';\nimport { Box } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\n\ninterface Props {\n  handleChange: (name: string, value: string | undefined, file: any | IFile[] | null) => void;\n}\n\nconst DropZone = ({ handleChange }: Props): JSX.Element => {\n  const onDrop = useCallback(\n    (acceptedFile) => {\n      handleChange('videoFile', undefined, acceptedFile[0]);\n    },\n    [handleChange],\n  );\n\n  const { getRootProps, getInputProps, isDragAccept, isDragReject } = useDropzone({\n    onDrop,\n    multiple: false,\n    accept: 'video/mp4, video/ogg',\n  });\n  const classes = useStyles();\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    handleChange(name, value, null);\n  };\n\n  return (\n    <Paper\n      sx={{\n        width: { xs: 300, sm: 400, md: 500 },\n        height: { xs: '17rem', sm: '22rem', md: '22rem' },\n      }}\n      className={classes.dropBoxContainer}\n    >\n      <Box className={classes.dropBox} {...getRootProps()}>\n        <input {...getInputProps()} />\n        <Grid\n          className={isDragAccept ? classes.imageBoxAccept : isDragReject ? classes.imageBoxReject : classes.imageBox}\n          sx={{ height: { xs: '12rem', sm: '16rem', md: '16rem', display: 'flex', flexDirection: 'column' } }}\n        >\n          <img loading=\"lazy\" className={classes.uploadImage} src={Image} alt=\"\" />\n          {isDragReject ? (\n            <Typography>Sorry, This app only supports Videos or MP4 files</Typography>\n          ) : (\n            <Box className={classes.typographyBox}>\n              <Typography className={classes.typography}>\n                drop your Video, <span className={classes.typographySpan}>browse</span>\n              </Typography>\n              <Typography className={classes.typography}>Only ogg or MP4 files supported</Typography>\n            </Box>\n          )}\n        </Grid>\n      </Box>\n      <TextField\n        style={{ width: '80%' }}\n        name=\"videoSource\"\n        label=\"You can paste the video url here\"\n        onChange={handleInputChange}\n        variant=\"standard\"\n      />\n    </Paper>\n  );\n};\n\nexport default DropZone;\n","/* eslint-disable prettier/prettier */\nimport React, { useEffect } from 'react';\nimport { Container, Paper, TextField, MenuItem, Button, CircularProgress, styled } from '@material-ui/core';\nimport { Box } from '@mui/material';\nimport { Formik, FormikHelpers } from 'formik';\nimport { useState } from 'react';\nimport { width } from '@mui/system';\nimport { Category } from '@material-ui/icons';\n\ninterface Props {\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>) => Promise<void>;\n  isSubmitting: boolean;\n  uploadProgress: number | null | undefined;\n  setVideoTitle: React.Dispatch<string>;\n  setArtist: React.Dispatch<string>;\n  setDescription: React.Dispatch<string>;\n  setCategory: React.Dispatch<string>;\n  videoTitle: string;\n  category: string;\n  uploadSuccess: boolean | undefined;\n}\n\nexport default function VideoDetailsForm({\n  handleSubmit,\n  setCategory,\n  setArtist,\n  setDescription,\n  videoTitle,\n  setVideoTitle,\n  isSubmitting,\n  uploadProgress,\n  uploadSuccess,\n  category,\n}: Props): JSX.Element {\n  const [buttonColor, setButtonColor] = useState<string | undefined>('primary');\n  useEffect(() => {\n    if (uploadSuccess === undefined) {\n      return setButtonColor('primary');\n    } else {\n      uploadSuccess ? setButtonColor('primary') : setButtonColor('secondary');\n    }\n  }, [uploadSuccess]);\n\n  const categories = [\n    {\n      value: 'Music Video',\n      label: 'Music Video',\n    },\n    {\n      value: 'Music Aduio',\n      label: 'Music Aduio',\n    },\n    {\n      value: 'Movie',\n      label: 'Movie',\n    },\n    {\n      value: 'Skit',\n      label: 'Skit',\n    },\n  ];\n\n  return (\n    <Box sx={{ padding: '2rem', width: { xs: '95%', sm: '80%', md: '80%', lg: '80%' }, margin: '0 auto' }}>\n      <form onSubmit={handleSubmit}>\n        <Box style={{ margin: '20px 0' }}>\n          <TextField\n            id=\"outlined-basic\"\n            onChange={(e) => setVideoTitle(e.target.value)}\n            label=\"Title\"\n            fullWidth\n            name=\"title\"\n            value={videoTitle}\n            variant=\"outlined\"\n            size=\"small\"\n            required\n          />\n        </Box>\n        <Box style={{ margin: '20px 0' }}>\n          <TextField\n            id=\"outlined-select-currency\"\n            size=\"small\"\n            fullWidth\n            variant=\"outlined\"\n            select\n            label=\"Select video Category\"\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}\n            required\n          >\n            {categories.map((option) => (\n              <MenuItem key={option.value} value={option.value}>\n                {option.label}\n              </MenuItem>\n            ))}\n          </TextField>{' '}\n        </Box>\n\n        <Box style={{ margin: '20px 0' }}>\n          <TextField\n            size=\"small\"\n            id=\"outlined-basic\"\n            onChange={(e) => setArtist(e.target.value)}\n            label=\"Artist\"\n            fullWidth\n            name=\"Artist\"\n            variant=\"outlined\"\n            required\n          />\n        </Box>\n\n        <Box style={{ margin: '20px 0' }}>\n          <TextField\n            size=\"small\"\n            id=\"outlined-basic\"\n            onChange={(e) => setDescription(e.target.value)}\n            label=\"Description\"\n            fullWidth\n            name=\"description\"\n            variant=\"outlined\"\n            required\n          />\n        </Box>\n        <Box textAlign=\"center\">\n          <Button type=\"submit\" size=\"large\" variant=\"contained\" color=\"primary\">\n            {isSubmitting ? (\n              uploadSuccess ? (\n                'Upload Successful'\n              ) : (\n                <CircularProgress style={{ color: 'white' }} />\n              )\n            ) : uploadSuccess === undefined ? (\n              'Upload Video'\n            ) : (\n              !uploadSuccess && 'Upload Failed'\n            )}\n            {isSubmitting && `${uploadProgress}%`}\n          </Button>\n        </Box>\n      </form>\n    </Box>\n  );\n}\n","import React from 'react';\nimport { Container, Paper, Box, useMediaQuery, useTheme } from '@mui/material';\nimport { useState } from 'react';\nimport VideoPlayer from '../../../components/VideoPlayer/VideosPlayer';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport DropZone from './DropZone/DropZone';\nimport VideoDetailsForm from './VideoDetailsForm/VideoDetailsForm';\nimport IconButton from '@mui/material/IconButton';\n\ninterface Props {\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>) => Promise<void>;\n  setFile: React.Dispatch<\n    React.SetStateAction<{\n      name: string;\n      lastModified: number;\n      size: number;\n      type: string;\n    } | null>\n  >;\n  setFileName: React.Dispatch<React.SetStateAction<string>>;\n  setVideoSource: React.Dispatch<React.SetStateAction<string>>;\n  setVideoTitle: React.Dispatch<React.SetStateAction<string>>;\n  setSubmitting: React.Dispatch<boolean>;\n  setUploadSuccess: React.Dispatch<boolean | undefined>;\n  setArtist: React.Dispatch<string>;\n  setDescription: React.Dispatch<string>;\n  setCategory: React.Dispatch<string>;\n  isSubmitting: boolean;\n  uploadProgress: number | null | undefined;\n  videoSource: string;\n  videoTitle: string;\n  category: string;\n  uploadSuccess: boolean | undefined;\n  setVideoDuration: React.Dispatch<string>;\n}\n\nexport default function UploadVideoForm({\n  handleSubmit,\n  setFile,\n  setUploadSuccess,\n  setSubmitting,\n  setFileName,\n  videoSource,\n  setVideoSource,\n  setVideoTitle,\n  isSubmitting,\n  uploadProgress,\n  videoTitle,\n  uploadSuccess,\n  setVideoDuration,\n  setArtist,\n  setDescription,\n  setCategory,\n  category,\n}: Props): JSX.Element {\n  // const location = useLocation();\n  const [tempVideoSource, setTempVideoSource] = useState<string | undefined>(undefined);\n  const theme = useTheme();\n  const isSmallOrLess = useMediaQuery(theme.breakpoints.up('sm'));\n  const videoPlayerOptions = {\n    width: isSmallOrLess ? '560' : '480',\n    height: isSmallOrLess ? '315' : '280',\n    autoPlay: true,\n    component: 'UploadVideoForm',\n    classes: null,\n  };\n\n  const bytesToSize = (bytes: number | undefined): void => {\n    const decimals = 2;\n    if (bytes === 0) {\n      setVideoDuration('0 Bytes');\n    }\n    if (bytes) {\n      const k = 1024;\n      const dm = decimals < 0 ? 0 : decimals;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n      setVideoDuration(parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i]);\n    }\n  };\n\n  const handleChange = (name: string, value: string | undefined, file: any): void => {\n    switch (name) {\n      case 'videoSource':\n        if (value) {\n          if (value?.includes('youtu')) {\n            handleYoutubeUrl(value);\n          } else {\n            setVideoSource(value);\n            setTempVideoSource(value);\n          }\n        }\n\n        break;\n\n      case 'videoFile':\n        const videoTypeIndex = 6;\n        if (file) {\n          const videoType = file.type.slice(videoTypeIndex);\n          setVideoTitle(file.name.replace(`.${videoType}`, ''));\n          setVideoSource(`/stream_videos/${Date.now()}`);\n          setTempVideoSource(URL.createObjectURL(file));\n          setFile(file);\n        }\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleYoutubeUrl = (videoFromYoutube: string): void => {\n    if (+videoFromYoutube.includes('embed') > 0) {\n      setVideoSource(videoFromYoutube);\n\n      return setTempVideoSource(videoFromYoutube);\n    } else {\n      const urlParams = 'youtu.be/';\n      const indexOfvideoId = videoFromYoutube.search(urlParams) + urlParams.length;\n      const youTubeVideoIdLength = 11;\n      const videoId = videoFromYoutube.substr(indexOfvideoId, youTubeVideoIdLength);\n      const videoUrl = `https://www.youtube.com/embed/${videoId}`;\n      setVideoSource(videoUrl);\n\n      return setTempVideoSource(videoUrl);\n    }\n  };\n\n  return (\n    <Box style={{ paddingTop: '3rem' }}>\n      {!videoSource.length ? (\n        <DropZone handleChange={handleChange} />\n      ) : (\n        <Paper\n          sx={{\n            minHeight: '80vh',\n            width: { sm: '100%', md: '75%', lg: '60%' },\n            margin: '0 auto',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Box display=\"flex\" justifyContent=\"center\" style={{ paddingTop: '3rem', position: 'relative' }}>\n            <IconButton\n              style={{\n                position: 'absolute',\n                zIndex: 1,\n                right: '2%',\n                top: '17%',\n                cursor: 'pointer',\n              }}\n              aria-label=\"update\"\n              onClick={() => {\n                setVideoTitle('');\n                setVideoSource('');\n                setSubmitting(false);\n                setUploadSuccess(undefined);\n              }}\n            >\n              {' '}\n              <DeleteIcon sx={{ color: 'red' }} />\n            </IconButton>\n\n            <VideoPlayer\n              videoSource={tempVideoSource}\n              setVideoDuration={setVideoDuration}\n              videoPlayerOptions={videoPlayerOptions}\n            />\n          </Box>\n\n          <VideoDetailsForm\n            handleSubmit={handleSubmit}\n            setVideoTitle={setVideoTitle}\n            isSubmitting={isSubmitting}\n            uploadProgress={uploadProgress}\n            videoTitle={videoTitle}\n            uploadSuccess={uploadSuccess}\n            setArtist={setArtist}\n            setDescription={setDescription}\n            setCategory={setCategory}\n            category={category}\n          />\n        </Paper>\n      )}\n    </Box>\n  );\n}\n\n// \"proxy\": \"https://vstreamer-api-server.herokuapp.com\",\n","import axios from 'axios';\nimport { useEffect } from 'react';\nimport { IResponse } from '../../interface/ApiResponse';\nimport { IVideoDetails } from '../../interface/VideoDetails';\n\nexport const uploadVideoDetails = async (videoDetails: IVideoDetails): Promise<IResponse> => {\n  return axios.post(`/video/video-details`, videoDetails);\n};\n","import { Box } from '@material-ui/core';\nimport { useState } from 'react';\nimport { useAuth } from '../../context/useAuthContext';\nimport UploadVideoForm from './UploadVideoForm/UploadVideoForm';\nimport { uploadVideoDetails } from '../../helpers/APICalls/uploadVideo';\nimport axios from 'axios';\nimport { useAllVideos } from '../../context/useAllVideosContext';\nimport { IVideoDetails } from '../../interface/VideoDetails';\nimport { useSnackBar } from '../../context/useSnackbarContext';\n\ninterface IState {\n  stringValue: string;\n  numberValue: number | undefined | null;\n  handleSubmit: () => void;\n  file: {\n    name: string;\n    lastModified: number;\n    size: number;\n    type: string;\n  } | null;\n}\n\nexport default function UploadVideo(): JSX.Element {\n  const { loggedInUser } = useAuth();\n  const [file, setFile] = useState<IState['file']>(null);\n  const [videoDuration, setVideoDuration] = useState('');\n  const [fileName, setFileName] = useState('Choose a file');\n  const [uploadSuccess, setUploadSuccess] = useState<boolean | undefined>(undefined);\n  const [uploadProgress, setUploadProgress] = useState<IState['numberValue']>(0);\n  const [videoSource, setVideoSource] = useState('');\n  const [videoTitle, setVideoTitle] = useState('');\n  const [isSubmitting, setSubmitting] = useState(false);\n  const { handleGetAllVideos } = useAllVideos();\n  const { updateSnackBarMessage } = useSnackBar();\n  const [artist, setArtist] = useState('');\n  const [description, setDescription] = useState('');\n  const [category, setCategory] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>): Promise<void> => {\n    e.preventDefault();\n\n    if (!videoTitle || !description || !category) {\n      return;\n    }\n\n    setSubmitting(true);\n    if (loggedInUser) {\n      const videoDetails: IVideoDetails = {\n        username: loggedInUser?.username,\n        userId: loggedInUser?.id,\n        userImage: loggedInUser?.userImage,\n        videoTitle,\n        videoId: '',\n        videoSource,\n        videoDescription: description,\n        artist: artist,\n        videoCategory: category,\n        videoDuration,\n        _id: '',\n      };\n      if (file) {\n        await handleUploadVideoToCloud(videoDetails);\n      } else {\n        await handleUploadVideoDetails(videoDetails);\n      }\n    }\n  };\n\n  const handleUploadVideoToCloud = async (videoDetails: IVideoDetails) => {\n    const formData: any = new FormData();\n    formData.append('video', file);\n    try {\n      const { data } = await axios.post(`/video/upload-video`, formData, {\n        headers: {\n          'content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: (progressEvent) => {\n          setUploadProgress(Math.round((progressEvent.loaded * 100) / progressEvent.total));\n        },\n      });\n      if (data) {\n        videoDetails.videoSource = data.url;\n        await handleUploadVideoDetails(videoDetails);\n      } else {\n        updateSnackBarMessage('video not uploaded');\n        setSubmitting(false);\n      }\n    } catch (err) {\n      console.error(err);\n      updateSnackBarMessage('video not uploaded');\n      setSubmitting(false);\n    }\n  };\n\n  const handleUploadVideoDetails = async (videoDetails: IVideoDetails): Promise<void> => {\n    try {\n      const { data } = await uploadVideoDetails(videoDetails);\n      if (data?.success) {\n        setUploadSuccess(true);\n        handleGetAllVideos();\n      } else {\n        updateSnackBarMessage('video not uploaded');\n        setSubmitting(false);\n        setUploadSuccess(false);\n      }\n    } catch (err) {\n      setUploadSuccess(false);\n      setSubmitting(false);\n\n      console.error(err);\n      updateSnackBarMessage('video not uploaded');\n    }\n  };\n\n  return (\n    <Box style={{ minHeight: '90vh' }}>\n      <UploadVideoForm\n        handleSubmit={handleSubmit}\n        videoSource={videoSource}\n        setFile={setFile}\n        setFileName={setFileName}\n        setVideoSource={setVideoSource}\n        setVideoTitle={setVideoTitle}\n        videoTitle={videoTitle}\n        isSubmitting={isSubmitting}\n        uploadProgress={uploadProgress}\n        uploadSuccess={uploadSuccess}\n        setVideoDuration={setVideoDuration}\n        setArtist={setArtist}\n        setDescription={setDescription}\n        setCategory={setCategory}\n        category={category}\n        setSubmitting={setSubmitting}\n        setUploadSuccess={setUploadSuccess}\n      />\n    </Box>\n  );\n}\n","import { MuiThemeProvider } from '@material-ui/core';\nimport { theme } from './themes/theme';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport Login from './pages/Login/Login';\nimport Signup from './pages/SignUp/SignUp';\nimport { AuthProvider } from './context/useAuthContext';\nimport { SocketProvider } from './context/useSocketContext';\nimport { SnackBarProvider } from './context/useSnackbarContext';\nimport { AllVideosProvider } from './context/useAllVideosContext';\nimport Layout from './components/Layout/Layout';\nimport Home from './pages/Home/Home';\nimport Watch from './pages/Watch/Watch';\nimport Profile from './pages/Profile/Profile';\n\nimport './App.css';\nimport UploadVideo from './pages/UploadVideo/UploadVideo';\nimport { UserDetailsProvider } from './context/useUserContext';\n\nfunction App(): JSX.Element {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <BrowserRouter>\n        <SnackBarProvider>\n          <AuthProvider>\n            <SocketProvider>\n              <AllVideosProvider>\n                <UserDetailsProvider>\n                  <Layout />\n                  <Switch>\n                    <>\n                      <Route exact path=\"/login\" component={Login} />\n                      <Route exact path=\"/signup\" component={Signup} />\n                      <Route exact path=\"/upload-video\" component={UploadVideo} />\n                      <Route exact path=\"/home\" component={Home} />\n                      <Route exact path=\"/watch/:title\" component={Watch} />\n                      <Route exact path=\"/profile/:username\" component={Profile} />\n\n                      <Route path=\"/\">\n                        <Redirect to=\"/home\" />\n                      </Route>\n                      <Route path=\"*\">\n                        <Redirect to=\"/login\" />\n                      </Route>\n                    </>\n                  </Switch>\n                </UserDetailsProvider>\n              </AllVideosProvider>\n            </SocketProvider>\n          </AuthProvider>\n        </SnackBarProvider>\n      </BrowserRouter>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}