{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Node-js\\\\projects\\\\videostreamer\\\\FrontEnd\\\\src\\\\Context\\\\StateContext.jsx\";\nimport React, { createContext, Component } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\"; // import dogImages from '../dogImages.json';\n// import catImages from '../catImages.json';\n// import birdImages from '../birdImages.json';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StateContext = /*#__PURE__*/createContext();\n\nclass StateContextProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: \"\",\n      password: \"\",\n      secondPassword: \"\",\n      userExist: false,\n      data: \"\",\n      routeTo: \"\",\n      userData: [] // images: [ dogImages, catImages, birdImages ],\n      // displayedImages: dogImages,\n      // count: 0,\n      // clicked: null\n\n    };\n\n    this.handleUserAuthentication = async (userName, password) => {\n      // this.setState({\n      // routeTo:useHistory()\n      // })\n      // axios({\n      //   method: 'get',\n      //   url: '/user/12345',\n      //   data: {\n      //    userName,\n      //    password\n      //   }\n      // })\n      axios.get(`/login/${userName}/${password}`).then(response => {\n        this.setState({\n          userExist: response.data.status\n        }).then(this.handleGetUserData(userName, password));\n        setTimeout(() => {\n          this.handleGetUserData(userName, password);\n        }, 2000);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleGetUserData = async (userName, password) => {\n      if (this.userExist) {\n        axios.get(`/login/${userName}/${password}`).then(response => {\n          console.log(response.data.userData);\n          this.setState({\n            userData: response.data.userData\n          });\n          console.log(this.state.userData);\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.handleCreateUserAccount = (userName, password) => {\n      console.log(\"context\");\n      axios.post(`/create_account/${userName}/${password}`).then(response => {\n        console.log(response.data);\n      }).catch(err => console.log(err));\n    };\n\n    this.reSetUserExist = () => {\n      this.setState({\n        userExist: false\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(StateContext.Provider, {\n      value: { ...this.state,\n        handleUserAuthentication: this.handleUserAuthentication,\n        handleCreateUserAccount: this.handleCreateUserAccount,\n        reSetUserExist: this.reSetUserExist\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default StateContextProvider;","map":{"version":3,"sources":["C:/Users/LENOVO/Documents/Node-js/projects/videostreamer/FrontEnd/src/Context/StateContext.jsx"],"names":["React","createContext","Component","axios","useHistory","StateContext","StateContextProvider","state","userName","password","secondPassword","userExist","data","routeTo","userData","handleUserAuthentication","get","then","response","setState","status","handleGetUserData","setTimeout","catch","err","console","log","handleCreateUserAccount","post","reSetUserExist","render","props","children"],"mappings":"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","sourcesContent":["import React, { createContext, Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// import dogImages from '../dogImages.json';\r\n// import catImages from '../catImages.json';\r\n// import birdImages from '../birdImages.json';\r\n\r\nexport const StateContext = createContext();\r\n\r\nclass StateContextProvider extends Component {\r\n  state = {\r\n    userName: \"\",\r\n    password: \"\",\r\n    secondPassword: \"\",\r\n    userExist: false,\r\n    data: \"\",\r\n    routeTo: \"\",\r\n    userData: [],\r\n\r\n    // images: [ dogImages, catImages, birdImages ],\r\n    // displayedImages: dogImages,\r\n    // count: 0,\r\n    // clicked: null\r\n  };\r\n\r\n  // componentDidMount() {\r\n  // \tthis.shuffleImages();\r\n  // }\r\n\r\n  // shuffleCards = () => {\r\n  // \tlet images = this.state.displayedImages;\r\n  // \tfor (let i = images.length - 1; i > 0; i--) {\r\n  // \t\tconst j = Math.floor(Math.random() * (i + 1));\r\n  // \t\t[ images[i], images[j] ] = [ images[j], images[i] ];\r\n  // \t}\r\n  // \tthis.setState({\r\n  // \t\tdogImages: images\r\n  // \t});\r\n  // };\r\n\r\n  // shuffleImages = () => {\r\n  // \tlet num = Math.floor(Math.random() * this.state.images.length);\r\n  // \tthis.setState({\r\n  // \t\tdisplayedImages: this.state.images[num]\r\n  // \t});\r\n  // };\r\n\r\n  handleUserAuthentication = async (userName, password) => {\r\n    // this.setState({\r\n    // routeTo:useHistory()\r\n    // })\r\n    // axios({\r\n    //   method: 'get',\r\n    //   url: '/user/12345',\r\n    //   data: {\r\n    //    userName,\r\n    //    password\r\n    //   }\r\n    // })\r\n    axios.get(`/login/${userName}/${password}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          userExist: response.data.status,\r\n        }).then( this.handleGetUserData(userName,password)\t\r\n)\r\nsetTimeout(() => {\r\n this.handleGetUserData(userName,password)\t\r\n}, 2000);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n\r\nhandleGetUserData= async (userName,password)=>{\r\n\r\n        if (this.userExist) {\r\n         axios\r\n            .get(`/login/${userName}/${password}`)\r\n            .then((response) => {\r\n              console.log(response.data.userData);\r\n              this.setState({\r\n                userData: response.data.userData,\r\n              });\r\n\r\n        console.log(this.state.userData);\r\n\r\n\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n  handleCreateUserAccount = (userName, password) => {\r\n    console.log(\"context\");\r\n    axios\r\n      .post(`/create_account/${userName}/${password}`)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n\r\nreSetUserExist=()=>{\r\nthis.setState({\r\nuserExist:false\r\n})\r\n\r\n\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <StateContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          handleUserAuthentication: this.handleUserAuthentication,\r\n          handleCreateUserAccount: this.handleCreateUserAccount,\r\n         reSetUserExist:this.reSetUserExist\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </StateContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StateContextProvider;\r\n"]},"metadata":{},"sourceType":"module"}