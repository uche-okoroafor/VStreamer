{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Documents\\\\Node-js\\\\projects\\\\videostreamer\\\\FrontEnd\\\\src\\\\Context\\\\StateContext.jsx\";\nimport React, { createContext, Component } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { v4 as uuidv4 } from 'uuid'; // import dogImages from '../dogImages.json';\n// import catImages from '../catImages.json';\n// import birdImages from '../birdImages.json';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StateContext = /*#__PURE__*/createContext();\n\nclass StateContextProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userName: \"\",\n      password: \"\",\n      loginUser: \"\",\n      data: \"\",\n      routeTo: \"\",\n      userData: [],\n      response: \"\",\n      userConfirmed: false\n    };\n\n    this.handleUserAuthentication = async (userName, password) => {\n      axios.get(`/login/${userName}/${password}`).then(response => {\n        this.setState({\n          userConfirmed: response.data.status\n        });\n      }).then(() => {\n        this.handleGetUserData(userName);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleCreateUserAccount = (userName, password) => {\n      axios.post(`/create_account/${userName}/${password}`).then(response => {\n        this.setState({\n          userConfirmed: response.data.status\n        });\n      }).then(() => {\n        this.handleGetUserData(userName);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleGetUserData = async userName => {\n      if (this.state.userConfirmed) {\n        axios.get(`/login/${userName}`).then(response => {\n          this.setState({\n            userData: response.data.userData\n          });\n          this.setState({\n            loginUser: true\n          });\n        }).catch(err => console.log(err));\n      } else {\n        this.setState({\n          loginUser: false\n        });\n      }\n    };\n\n    this.uploadVideo = async (videoTitle, videoSource) => {\n      let userData = this.state.userData;\n      let userVideos = userData.videos;\n      const videoId = uuidv4();\n      userVideos = { ...userVideos,\n        [videoId]: {\n          videoTitle,\n          videoSource,\n          videoId\n        }\n      };\n      userData.videos = userVideos;\n      this.setState({\n        userData\n      });\n      axios.patch(`/upload_video/${this.state.userData.userName}/${this.state.userData._Id}/${this.state.userData.videos}/`).then(response => {\n        r;\n      }).catch(err => console.log(err));\n    };\n\n    this.resetLoginUser = () => {\n      this.setState({\n        loginUser: \"\"\n      });\n    };\n  }\n\n  render() {\n    console.log(this.state.userData);\n    return /*#__PURE__*/_jsxDEV(StateContext.Provider, {\n      value: { ...this.state,\n        uploadVideo: this.uploadVideo,\n        handleUserAuthentication: this.handleUserAuthentication,\n        handleCreateUserAccount: this.handleCreateUserAccount,\n        resetLoginUser: this.resetLoginUser\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default StateContextProvider;","map":{"version":3,"sources":["C:/Users/LENOVO/Documents/Node-js/projects/videostreamer/FrontEnd/src/Context/StateContext.jsx"],"names":["React","createContext","Component","axios","useHistory","v4","uuidv4","StateContext","StateContextProvider","state","userName","password","loginUser","data","routeTo","userData","response","userConfirmed","handleUserAuthentication","get","then","setState","status","handleGetUserData","catch","err","console","log","handleCreateUserAccount","post","uploadVideo","videoTitle","videoSource","userVideos","videos","videoId","patch","_Id","r","resetLoginUser","render","props","children"],"mappings":"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","sourcesContent":["import React, { createContext, Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// import dogImages from '../dogImages.json';\r\n// import catImages from '../catImages.json';\r\n// import birdImages from '../birdImages.json';\r\n\r\nexport const StateContext = createContext();\r\n\r\nclass StateContextProvider extends Component {\r\n  state = {\r\n    userName: \"\",\r\n    password: \"\",\r\n    loginUser: \"\",\r\n    data: \"\",\r\n    routeTo: \"\",\r\n    userData: [],\r\n    response: \"\",\r\n    userConfirmed: false,\r\n  };\r\n\r\n  // componentDidMount() {\r\n  // \tthis.shuffleImages();\r\n  // }\r\n\r\n  // shuffleCards = () => {\r\n  // \tlet images = this.state.displayedImages;\r\n  // \tfor (let i = images.length - 1; i > 0; i--) {\r\n  // \t\tconst j = Math.floor(Math.random() * (i + 1));\r\n  // \t\t[ images[i], images[j] ] = [ images[j], images[i] ];\r\n  // \t}\r\n  // \tthis.setState({\r\n  // \t\tdogImages: images\r\n  // \t});\r\n  // };\r\n\r\n  // shuffleImages = () => {\r\n  // \tlet num = Math.floor(Math.random() * this.state.images.length);\r\n  // \tthis.setState({\r\n  // \t\tdisplayedImages: this.state.images[num]\r\n  // \t});\r\n  // };\r\n\r\n  handleUserAuthentication = async (userName, password) => {\r\n    axios\r\n      .get(`/login/${userName}/${password}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          userConfirmed: response.data.status,\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.handleGetUserData(userName);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  handleCreateUserAccount = (userName, password) => {\r\n    axios\r\n      .post(`/create_account/${userName}/${password}`)\r\n      .then((response) => {\r\n        this.setState({\r\n          userConfirmed: response.data.status,\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.handleGetUserData(userName);\r\n      })\r\n\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  handleGetUserData = async (userName) => {\r\n    if (this.state.userConfirmed) {\r\n      axios\r\n        .get(`/login/${userName}`)\r\n        .then((response) => {\r\n          this.setState({\r\n            userData: response.data.userData,\r\n          });\r\n          this.setState({\r\n            loginUser: true,\r\n          });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      this.setState({\r\n        loginUser: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  uploadVideo = async (videoTitle,videoSource) => {\r\nlet userData = this.state.userData\r\nlet userVideos = userData.videos\r\nconst videoId =uuidv4();\r\nuserVideos = {...userVideos,[videoId]:{\r\nvideoTitle,\r\nvideoSource,\r\nvideoId \r\n}\r\n}\r\n\r\nuserData.videos =userVideos \r\n\r\nthis.setState({\r\nuserData\r\n})\r\n\r\n\r\n axios.patch(`/upload_video/${this.state.userData.userName}/${this.state.userData._Id}/${this.state.userData.videos}/`)\r\n .then((response) => {\r\nr        })\r\n        .catch((err) => console.log(err));\r\n\r\n};\r\n\r\n  resetLoginUser = () => {\r\n    this.setState({\r\n      loginUser: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\nconsole.log(this.state.userData)\r\n\r\n    return (\r\n      <StateContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          uploadVideo: this.uploadVideo,\r\n          handleUserAuthentication: this.handleUserAuthentication,\r\n          handleCreateUserAccount: this.handleCreateUserAccount,\r\n          resetLoginUser: this.resetLoginUser,\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </StateContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StateContextProvider;\r\n"]},"metadata":{},"sourceType":"module"}